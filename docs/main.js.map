{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/canvas/canvas.component.html","webpack:///./src/app/components/canvas/canvas.component.scss","webpack:///./src/app/components/canvas/canvas.component.ts","webpack:///./src/app/components/circle/circle.component.ts","webpack:///./src/app/components/color-picker/color-picker.component.ts","webpack:///./src/app/components/index.ts","webpack:///./src/app/components/masthead/masthead.component.scss","webpack:///./src/app/components/masthead/masthead.component.ts","webpack:///./src/app/components/options-bar/options-bar.component.ts","webpack:///./src/app/components/panel/panel.component.scss","webpack:///./src/app/components/panel/panel.component.ts","webpack:///./src/app/components/polyline/polyline.component.ts","webpack:///./src/app/components/rect/rect.component.ts","webpack:///./src/app/components/svg-icon/svg-icon.component.ts","webpack:///./src/app/components/toolbar-item/toolbar-item.component.scss","webpack:///./src/app/components/toolbar-item/toolbar-item.component.ts","webpack:///./src/app/components/toolbar/toolbar.component.scss","webpack:///./src/app/components/toolbar/toolbar.component.ts","webpack:///./src/app/components/users/users.component.ts","webpack:///./src/app/directives/cursorable/cursorable.directive.ts","webpack:///./src/app/directives/mouse/mouse-service.directive.ts","webpack:///./src/app/math/point2d.ts","webpack:///./src/app/modules/tools/components/control-tool/control-tool.component.ts","webpack:///./src/app/modules/tools/components/drawing-tool/drawing-tool.component.ts","webpack:///./src/app/modules/tools/components/geometry-tool/geometry-tool.component.ts","webpack:///./src/app/modules/tools/components/pointer-tool/pointer-tool.component.ts","webpack:///./src/app/modules/tools/shapes/circle/circle.ts","webpack:///./src/app/modules/tools/shapes/index.ts","webpack:///./src/app/modules/tools/shapes/polyline-shape.ts","webpack:///./src/app/modules/tools/shapes/rect/rect.ts","webpack:///./src/app/modules/tools/shapes/shape.ts","webpack:///./src/app/modules/tools/tools.module.ts","webpack:///./src/app/modules/tools/tools.ts","webpack:///./src/app/modules/tools/types/tools.ts","webpack:///./src/app/services/canvas/canvas.service.ts","webpack:///./src/app/store/actions/app.actions.ts","webpack:///./src/app/store/app-store.module.ts","webpack:///./src/app/store/effects/app.effects.ts","webpack:///./src/app/store/reducers/app.reducer.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <div class=\"container\">\n      <app-masthead></app-masthead>\n      <app-toolbar></app-toolbar>\n      <app-options-bar></app-options-bar>\n      <app-users></app-users>\n      <app-canvas></app-canvas>\n    </div>\n  `\n})\nexport class AppComponent {\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\nimport { AppStoreModule } from '@store/app-store.module';\nimport { AppComponent } from './app.component';\nimport { ToolsModule } from '@tools/tools.module';\nimport { CursorableDirective } from './directives/cursorable/cursorable.directive';\nimport { commonComponents } from '@components';\nimport { MouseServiceDirective } from '@directives/mouse/mouse-service.directive';\nimport { CanvasService } from '@services/canvas/canvas.service';\nimport { PolylineComponent } from './components/polyline/polyline.component';\nimport { CircleComponent } from './components/circle/circle.component';\nimport { RectComponent } from './components/rect/rect.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    CursorableDirective,\n    MouseServiceDirective,\n    ...commonComponents,\n    PolylineComponent,\n    CircleComponent,\n    RectComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    AppStoreModule,\n    ToolsModule,\n    FormsModule\n  ],\n  providers: [CanvasService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"<app-panel [panelTitle]=\\\"title\\\" class=\\\"canvas__panel\\\">\\n    <svg xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n      id=\\\"svg\\\"\\n      viewBox=\\\"0 0 14000 14000\\\"\\n      width=\\\"14000\\\"\\n      height=\\\"14000\\\"\\n      #svg\\n      [appCursorable]=\\\"app$\\\"\\n      appMouseService\\n    >\\n      <defs>\\n          <pattern id=\\\"grid\\\"\\n            patternUnits=\\\"userSpaceOnUse\\\"\\n            width=\\\"10\\\"\\n            height=\\\"10\\\">\\n              <line x1=\\\"5\\\" y1=\\\"0\\\" x2=\\\"5\\\" y2=\\\"10\\\" />\\n              <line x1=\\\"0\\\" y1=\\\"5\\\" x2=\\\"10\\\" y2=\\\"5\\\" />\\n          </pattern>\\n      </defs>\\n      <rect width=\\\"100%\\\" height=\\\"100%\\\" fill=\\\"url(#grid)\\\" />\\n\\n      <g id=\\\"polylines\\\">\\n        <ng-container *ngFor=\\\"let polyline of canvasService.polylines$ | async\\\">\\n          <g [appPolyline]=\\\"polyline\\\" *ngIf=\\\"!polyline.editing\\\" (hover)=\\\"handleHoverChange($event)\\\"></g>\\n          <polyline *ngIf=\\\"polyline.editing\\\"\\n            [attr.points]=\\\"polyline.toString()\\\"\\n            [attr.fill]=\\\"polyline.fill\\\"\\n            [attr.stroke]=\\\"polyline.stroke\\\"\\n            [attr.stroke-width]=\\\"polyline.strokeWidth\\\"/>\\n        </ng-container>\\n      </g>\\n\\n      <g id=\\\"circles\\\">\\n        <ng-container *ngFor=\\\"let circle of canvasService.circles$ | async\\\">\\n          <g [appCircle]=\\\"circle\\\" *ngIf=\\\"!circle.editing\\\"></g>\\n          <circle\\n            [attr.cx]=\\\"circle.cx\\\"\\n            [attr.cy]=\\\"circle.cy\\\"\\n            [attr.r]=\\\"circle.r\\\"\\n            [attr.fill]=\\\"circle.fill\\\"\\n            [attr.stroke]=\\\"circle.stroke\\\"\\n            [attr.stroke-width]=\\\"circle.strokeWidth\\\"\\n          />\\n        </ng-container>\\n      </g>\\n\\n      <g id=\\\"rects\\\">\\n        <ng-container *ngFor=\\\"let rect of canvasService.rects$ | async\\\">\\n          <g [appRect]=\\\"rect\\\" *ngIf=\\\"!rect.editing\\\" (hover)=\\\"handleHoverChange($event)\\\"></g>\\n          <rect\\n            [attr.x]=\\\"rect.x\\\"\\n            [attr.y]=\\\"rect.y\\\"\\n            [attr.width]=\\\"rect.width\\\"\\n            [attr.height]=\\\"rect.height\\\"\\n            [attr.fill]=\\\"rect.fill\\\"\\n            [attr.stroke]=\\\"rect.stroke\\\"\\n            [attr.rx]=\\\"rect.rx\\\"\\n            [attr.ry]=\\\"rect.ry\\\"\\n            [attr.stroke-width]=\\\"rect.strokeWidth\\\"\\n          />\\n        </ng-container>\\n      </g>\\n\\n      <ng-container #vcr></ng-container>\\n    </svg>\\n</app-panel>\\n\"","module.exports = \"#grid > line {\\n  stroke: #e0e3e5;\\n  stroke-width: 1px; }\\n\\n.cursor__pencil {\\n  cursor: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAc9JREFUOI210z9IG2EYx/HfvXdnkiMGJRIRFNqqZ0Ap4r9FUJDqIEIphcqhmaSQIYJOhYppBxcJiIOCooNLgiBeK3TJ4FA6FDo0pQVpC05y/kONlzNRz8u9LibYVsU76zO/z4cvPLzAfx7G7uJkLFaqa5kApUbiVTC4eidwfGauVxCcMcKyBADU5MH061AoBADEKrabTDa4HPwUYVlCAWgpFaeZ4+CbSMRnGdxeeSuZX6OfnnX3CFnD0I5UFcfpDEAIm+U4ryVQkcOS8eN91Pw4ITi+R4XW+iYXNc11AICJxNjQ0M9bg4oclrC2EiV6igEAdWkU/LtBrvlxfWWxp/AzqNEDhqHALY6SwxhdYwAgvbWHk2QKAJBtfGryzyNNtaKYyL3n7GLE6YSjpDwgXsJuLFTkEQlrH67F+PaBPvHldOzvvStBuxhwxVEUeUSiNrF/CnMYsYn9UajI4TtjAMACwP6+VgdvxTLzO+7C6ZFtLF94Ro1Otqi8iHsxj/ShbhvLFwreh8Mej7tWB48DdyVcv+IgPG8Zy4MtbV39MwuLfkIYlFXVgT5oMdy+soBVDLj4KZyTi/urHlVvbO6cdD8p/lLg65gVawa+WcXuZc4BzFf0O30cAKIAAAAASUVORK5CYII=\\\") 0 15, auto; }\\n\\n.cursor__brush {\\n  cursor: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAN5JREFUOI2l0r1OAkEUBeDPtRNqKnsMoTKBhB4rI6+i+BY2/sCbQMsTUNgRsTOx4AWIhYVazGxcddcdwunmzpxzz9x72BMHFfUmztCO5zUW2NYJZLhCCzOsYr2LETaY4KOsa4YHnP7juIf7+PYPrmvIOfoYF7sS/tzCY4LAEsdowGEsnkfya4IAvKOD59xB2/fAUrDCCRXD2AW5wFpYVSq6eCoWmrjZQeAWR0UHWyEkvQTyAC94+32RCSHp15DvFBJcFuVLYc9zP6N8ETtP8VklkKOBobgqYWCLMtt74wuWPiOg5kawFgAAAABJRU5ErkJggg==\\\") 8 8, auto; }\\n\\n.cursor__rect {\\n  cursor: crosshair; }\\n\\n.cursor__hand.hovered {\\n  cursor: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1ElEQVQ4je3TP0pDQRCA8Z9/0SRqm06IBHKD4B0sAqntBS28QZIr5A6p0toqCYHcIF2w9QL2pphXPCKb956KIPjBsrNbfDuzO8tfZx8tLHGJDppflY0xRw8fuMEaExyjncogRQtXW3sN1PGAFc6qCHdxjqNM/iPCJL8uPEE3i+/EnR2IRymkhuvc+km87q7xqYXyGfZFvw3LnJ7iMBdPcYvBd4TbnOJZlPOuuOSLMtIaZiVkr1UyrWNRIBxVERIt8pKQzcVPqcwe7jPBWzY/il78J9gAK+o7HJx0FEoAAAAASUVORK5CYII=\\\") 8 7, auto; }\\n\"","import {\n  Component,\n  OnInit,\n  ViewChild,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  ElementRef,\n  ReflectiveInjector\n} from '@angular/core';\nimport { AppState } from '@store/app-state';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\nimport { Tool } from '@tools/types/tool';\nimport { of } from 'rxjs/observable/of';\nimport { CanvasService } from '@services/canvas/canvas.service';\nimport { map, switchMap } from 'rxjs/operators';\nimport { App } from '@store/reducers/app.reducer';\nimport { Shape } from '@shapes/shape';\nimport * as AppActions from '@store/actions/app.actions';\nimport { ofType } from '@ngrx/effects';\nimport { Tools } from '@tools/types/tools';\n\n@Component({\n  selector: 'app-canvas',\n  templateUrl: './canvas.component.html',\n  styleUrls: [ './canvas.component.scss' ]\n})\nexport class CanvasComponent implements OnInit {\n  title = 'Canvas';\n  selectedTool$: Observable<Tool>;\n  app$: Observable<App>;\n\n  @ViewChild('vcr', { read: ViewContainerRef }) vcr: ViewContainerRef;\n  @ViewChild('svg') svgRef: ElementRef;\n\n  constructor(\n    private store: Store<AppState>,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    public canvasService: CanvasService\n  ) { }\n\n  ngOnInit(): void {\n    this.app$ = this.store.select('app');\n\n    this.selectedTool$ = this.store\n      .select('app')\n      .pipe(map((app: App) => app.selectedTool));\n\n    this.selectedTool$\n      .subscribe(this.loadComponent);\n  }\n\n  handleHoverChange = (evt: AppActions.ChangeHoverStatePayload): void => {\n    this.store.dispatch(new AppActions.ChangeHoverState({ id: evt.id, state: evt.state }));\n  }\n\n  loadComponent = (tool: Tool): void => {\n    this.vcr.clear();\n\n    if (!tool) {\n      return;\n    }\n\n    const componentFactory = this.componentFactoryResolver\n      .resolveComponentFactory(tool.component);\n\n    const componentRef = this.vcr.createComponent(componentFactory);\n  }\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  HostListener,\n  EventEmitter,\n  Output\n} from '@angular/core';\nimport { CircleShape } from '@shapes/circle/circle';\nimport { ChangeHoverStatePayload } from '../../store/actions/app.actions';\n\n@Component({\n  selector: '[appCircle]',\n  template: `\n    <svg:circle\n      [attr.cx]=\"circle.cx\"\n      [attr.cy]=\"circle.cy\"\n      [attr.r]=\"circle.r\"\n      [attr.fill]=\"circle.fill\"\n      [attr.stroke]=\"circle.stroke\"\n      [attr.stroke-width]=\"circle.strokeWidth\"\n      (mouseenter)=\"handleMouseEvent(true)\"\n      (mouseleave)=\"handleMouseEvent(false)\"\n    />\n  `,\n  styles: [`\n    circle {\n      pointer-events: all;\n    }\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CircleComponent {\n  @Input('appCircle') circle: CircleShape;\n  @Output('hover') hoverer: EventEmitter<ChangeHoverStatePayload> = new EventEmitter<ChangeHoverStatePayload>();\n\n  handleMouseEnter(state: boolean): void {\n    this.hoverer.emit({ id: this.circle.id, state });\n  }\n}\n","import { Component, OnInit, ViewChild, ElementRef, Renderer2 } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@store/app-state';\nimport { Observable } from 'rxjs/Observable';\nimport * as AppActions from '@store/actions/app.actions';\nimport { SelectColor, SelectTool } from '../../store/actions/app.actions';\nimport { App } from '../../store/reducers/app.reducer';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-color-picker',\n  template: `\n    <input type=\"color\"\n      #colorPicker\n      (click)=\"handleOpen()\"\n      [ngModel]=\"selectedColor$ | async\"\n      (ngModelChange)=\"handleChange($event)\">\n  `,\n  styles: []\n})\nexport class ColorPickerComponent implements OnInit {\n  selectedColor$: Observable<string>;\n  @ViewChild('colorPicker') colorPicker: ElementRef;\n  constructor(\n    private store: Store<AppState>,\n    private renderer: Renderer2\n  ) { }\n\n  ngOnInit(): void {\n    this.selectedColor$ = this.store\n      .select('app')\n      .pipe(map((app: App) => app.selectedColor));\n  }\n\n  handleChange(color: string): void {\n    this.store.dispatch(new AppActions.SelectColor(color));\n  }\n\n  handleOpen(): void {\n    this.store.dispatch(new AppActions.SelectTool(null));\n  }\n}\n","import { MastheadComponent } from './masthead/masthead.component';\nimport { OptionsBarComponent } from './options-bar/options-bar.component';\nimport { PanelComponent } from './panel/panel.component';\nimport { SvgIconComponent } from './svg-icon/svg-icon.component';\nimport { ToolbarComponent } from './toolbar/toolbar.component';\nimport { ToolbarItemComponent } from './toolbar-item/toolbar-item.component';\nimport { UsersComponent } from './users/users.component';\nimport { CanvasComponent } from './canvas/canvas.component';\nimport { ColorPickerComponent } from './color-picker/color-picker.component';\n\nexport const commonComponents = [\n  MastheadComponent,\n  OptionsBarComponent,\n  PanelComponent,\n  SvgIconComponent,\n  ToolbarComponent,\n  ToolbarItemComponent,\n  UsersComponent,\n  CanvasComponent,\n  ColorPickerComponent\n];\n\nexport {\n  MastheadComponent,\n  OptionsBarComponent,\n  PanelComponent,\n  SvgIconComponent,\n  ToolbarComponent,\n  ToolbarItemComponent,\n  UsersComponent,\n  CanvasComponent,\n  ColorPickerComponent\n};\n","module.exports = \".masthead {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  height: 100%;\\n  background-color: #ffffff;\\n  box-shadow: 0 0 11px rgba(0, 0, 0, 0.13); }\\n  .masthead__logo {\\n    display: flex;\\n    align-items: center;\\n    height: 100%;\\n    padding: 0 20px;\\n    font-size: 15px;\\n    font-weight: 100;\\n    background-color: #353c4e;\\n    cursor: default; }\\n\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-masthead',\n  template: `\n    <div class=\"masthead\">\n      <div class=\"masthead__logo\">Angular<b>Paint</b></div>\n    </div>\n  `,\n  styleUrls: ['./masthead.component.scss']\n})\nexport class MastheadComponent {\n\n  constructor() { }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-options-bar',\n  template: `\n    <app-panel [panelTitle]=\"title\">\n      <app-color-picker></app-color-picker>\n    </app-panel>\n  `\n})\nexport class OptionsBarComponent implements OnInit {\n  title = 'Adjustments';\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","module.exports = \":host {\\n  display: flex;\\n  height: 100%;\\n  width: 100%; }\\n\\n.panel {\\n  background-color: white;\\n  font-size: 12px;\\n  border-radius: 1px;\\n  box-shadow: 0 1px 11px 0 rgba(0, 0, 0, 0.12);\\n  border-radius: 5px;\\n  color: #505458;\\n  overflow: auto;\\n  width: 100%; }\\n\\n.panel__title {\\n    font-weight: 600;\\n    cursor: default;\\n    margin-bottom: 10px;\\n    padding: 5px; }\\n\\n.panel__content {\\n    line-height: 16px;\\n    padding: 5px; }\\n\"","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-panel',\n  template: `\n    <div class=\"panel\">\n      <div class=\"panel__title\" *ngIf=\"panelTitle\">\n          {{panelTitle}}\n      </div>\n      <div class=\"panel__content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n  styleUrls: ['./panel.component.scss']\n})\nexport class PanelComponent implements OnInit {\n  @Input() panelTitle: string;\n\n  ngOnInit(): void {\n\n  }\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { PolylineShape, Shape } from '@tools/shapes';\nimport { CanvasService } from '@services/canvas/canvas.service';\nimport { ChangeHoverStatePayload } from '@store/actions/app.actions';\n\n@Component({\n  selector: '[appPolyline]',\n  template: `\n    <svg:polyline\n      [attr.points]=\"polyline.toString()\"\n      [attr.fill]=\"polyline.fill\"\n      [attr.stroke]=\"polyline.stroke\"\n      [attr.stroke-width]=\"polyline.strokeWidth\"\n      (mouseenter)=\"handleMouseEvent(true)\"\n      (mouseleave)=\"handleMouseEvent(false)\"\n    />\n  `,\n  styles: [`\n    polyline {\n      pointer-events: all;\n    }\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PolylineComponent {\n  @Output('hover') hoverer: EventEmitter<ChangeHoverStatePayload> = new EventEmitter<ChangeHoverStatePayload>();\n  @Input('appPolyline') polyline: PolylineShape;\n\n  handleMouseEvent(state: boolean): void {\n    this.hoverer.emit({ id: this.polyline.id, state });\n  }\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  EventEmitter,\n  Output\n} from '@angular/core';\nimport { RectShape } from '@shapes/rect/rect';\nimport { ChangeHoverStatePayload } from '@store/actions/app.actions';\n\n@Component({\n  selector: '[appRect]',\n  template: `\n    <svg:rect\n      [attr.x]=\"rect.x\"\n      [attr.y]=\"rect.y\"\n      [attr.width]=\"rect.width\"\n      [attr.height]=\"rect.height\"\n      [attr.fill]=\"rect.fill\"\n      [attr.stroke]=\"rect.stroke\"\n      [attr.rx]=\"rect.rx\"\n      [attr.ry]=\"rect.ry\"\n      [attr.stroke-width]=\"rect.strokeWidth\"\n      (mouseenter)=\"handleMouseEvent(true)\"\n      (mouseleave)=\"handleMouseEvent(false)\"\n    />\n  `,\n  styles: [`\n    rect {\n      pointer-events: all;\n    }\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RectComponent {\n  @Input('appRect') rect: RectShape;\n  @Output('hover') hoverer: EventEmitter<ChangeHoverStatePayload> = new EventEmitter<ChangeHoverStatePayload>();\n\n  handleMouseEvent(state: boolean): void {\n    this.hoverer.emit({ id: this.rect.id, state: state });\n  }\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  Renderer,\n  ElementRef\n} from '@angular/core';\nimport { Http, Response } from '@angular/http';\n\n@Component({\n  selector: 'app-svg-icon',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SvgIconComponent {\n  @Input()\n  set imageUrl(imageUrl: string) {\n    this.load(imageUrl);\n  }\n\n  constructor(\n    private http: Http,\n    private renderer: Renderer,\n    private elementRef: ElementRef\n  ) {}\n\n  load(imageUrl: string): void {\n    this.http.get(imageUrl)\n      .subscribe((response: Response) => {\n        const element = <HTMLElement>this.elementRef.nativeElement;\n        element.innerHTML = '';\n\n        const iconStr = response.text();\n        const parser = new DOMParser();\n        const svg = parser.parseFromString(iconStr, 'image/svg+xml');\n\n        this.renderer.projectNodes(element, [svg.documentElement]);\n      });\n  }\n}\n","module.exports = \".tool-item {\\n  width: 20px;\\n  height: 20px;\\n  margin-bottom: 10px; }\\n\"","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { Tool } from '@tools/types/tool';\nimport { Observable } from 'rxjs/Observable';\nimport {\n  trigger,\n  state,\n  style,\n  transition,\n  animate\n} from '@angular/animations';\n\n@Component({\n  selector: 'app-toolbar-item',\n  template: `\n    <div class=\"tool-item\" [@toolState]=\"toolState\">\n      <app-svg-icon [imageUrl]=\"tool.imageUrl\"\n        (mousedown)=\"handleSelect($event)\">\n      </app-svg-icon>\n    </div>\n  `,\n  animations: [\n    trigger('toolState', [\n      state('inactive', style({\n        transform: 'scale(1)'\n      })),\n      state('active', style({\n        transform: 'scale(1.4)'\n      })),\n      transition('inactive => active', animate('200ms ease-in-out')),\n      transition('active => inactive', animate('100ms ease-out'))\n    ])\n  ],\n  styleUrls: [ './toolbar-item.component.scss' ]\n})\nexport class ToolbarItemComponent {\n  toolState = 'inactive';\n  @Output() select: EventEmitter<Tool> = new EventEmitter<Tool>();\n  @Input() tool: Tool;\n  @Input()\n  set selected(isSelected: boolean) {\n    this.toolState = isSelected ? 'active' : 'inactive';\n  }\n\n  handleSelect(evt: MouseEvent): void {\n    evt.stopPropagation();\n    this.select.emit(this.tool);\n  }\n}\n","module.exports = \".toolbar-list {\\n  display: flex;\\n  justify-content: space-around;\\n  flex-wrap: wrap; }\\n\"","import {\n  Component,\n  OnInit,\n  Inject,\n  HostListener,\n  OnDestroy\n} from '@angular/core';\nimport * as AppActions from '@store/actions/app.actions';\nimport { TOOLS_TOKEN } from '@tools/tools';\nimport { Tool } from '@tools/types/tool';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@store/app-state';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport { takeUntil, map } from 'rxjs/operators';\nimport { SelectTool } from '../../store/actions/app.actions';\nimport { App } from '../../store/reducers/app.reducer';\n\n@Component({\n  selector: 'app-toolbar',\n  template: `\n    <app-panel [panelTitle]=\"title\">\n      <div class=\"toolbar-list\">\n        <app-toolbar-item\n          *ngFor=\"let tool of tools\"\n          [tool]=\"tool\"\n          [selected]=\"isSelected(tool)\"\n          (select)=\"handleSelect($event)\">\n        </app-toolbar-item>\n      </div>\n    </app-panel>\n  `,\n  styleUrls: [ './toolbar.component.scss' ]\n})\nexport class ToolbarComponent implements OnInit, OnDestroy {\n  title = 'Tools';\n  selectedTool: Tool;\n  selectedTool$: Observable<Tool>;\n  destroy$: Subject<boolean> = new Subject<boolean>();\n\n  constructor(\n    @Inject(TOOLS_TOKEN) public tools: Tool[],\n    private store: Store<AppState>\n  ) {}\n\n  ngOnInit(): void {\n    this.store\n      .select('app')\n      .pipe(\n        map((app: App) => app.selectedTool),\n        takeUntil(this.destroy$)\n      )\n      .subscribe((tool: Tool) => this.selectedTool = tool);\n  }\n\n  isSelected(tool: Tool): boolean {\n    return this.selectedTool === tool;\n  }\n\n  handleSelect(tool: Tool): void {\n    this.store.dispatch(new AppActions.SelectTool(tool));\n\n    const thickness = tool.name === 'pencil' ? 2 : 10;\n    this.store.dispatch(new AppActions.ChangeThickness(thickness));\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-users',\n  template: `\n    <app-panel [panelTitle]=\"title\">\n      <div>User 1</div>\n      <div>User 1</div>\n      <div>User 1</div>\n      <div>User 1</div>\n      <div>User 1</div>\n      <div>User 1</div>\n      <div>User 1</div>\n      <div>User 1</div>\n      <div>User 1</div>\n    </app-panel>\n  `\n})\nexport class UsersComponent implements OnInit {\n  title = 'Users';\n\n  ngOnInit(): void {\n  }\n\n}\n","import {\n  Directive,\n  OnInit,\n  Input,\n  Renderer2,\n  ElementRef\n} from '@angular/core';\nimport { AppState } from '@store/app-state';\nimport { Observable } from 'rxjs/Observable';\nimport { Tool } from '@tools/types/tool';\nimport { SelectTool } from '@store/actions/app.actions';\nimport { App } from '@store/reducers/app.reducer';\nimport { map, withLatestFrom } from 'rxjs/operators';\nimport { Shape } from '@tools';\nimport { Tools } from '../../modules/tools/types/tools';\n\n@Directive({\n  selector: '[appCursorable]'\n})\nexport class CursorableDirective implements OnInit {\n  @Input('appCursorable') appChanges: Observable<App>;\n  svg: SVGSVGElement;\n  previousTool: Tool;\n  selectedTool$: Observable<Tool>;\n  hoveredShape$: Observable<Shape>;\n  constructor(\n    private elRef: ElementRef,\n    private r: Renderer2\n  ) {\n    this.svg = this.elRef.nativeElement;\n  }\n\n  ngOnInit(): void {\n    this.hoveredShape$ = this.appChanges.pipe(map((app: App) => app.hoveredShape));\n    this.selectedTool$ = this.appChanges.pipe(map((app: App) => app.selectedTool));\n\n    this.selectedTool$\n      .subscribe((selectedTool: Tool) => {\n        if (this.previousTool) {\n          this.r.removeClass(this.svg, `cursor__${this.previousTool.name}`);\n        }\n\n        if (!selectedTool) {\n          return;\n        }\n\n        this.r.addClass(this.svg, `cursor__${selectedTool.name}`);\n        this.previousTool = selectedTool;\n      });\n\n    // TODO: move this logic into separate class tool\n    this.hoveredShape$\n      .pipe(withLatestFrom(this.selectedTool$))\n      .subscribe(([shape, selectedTool]: [Shape, Tool]) => {\n        if (selectedTool && (selectedTool.name !== Tools.Hand) || !shape) {\n          return this.r.removeClass(this.svg, `hovered`);\n        }\n\n        return this.r.addClass(this.svg, `hovered`);\n      });\n  }\n}\n","import { Directive, ElementRef } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { Point2D } from '@math/point2d';\nimport { map, tap } from 'rxjs/operators';\nimport { merge } from 'rxjs/observable/merge';\n\n@Directive({\n  selector: '[appMouseService]'\n})\nexport class MouseServiceDirective {\n  constructor(private elRef: ElementRef) {\n  }\n\n  fromEvent(name: string): Observable<MouseEvent> {\n    return fromEvent(this.elRef.nativeElement, name)\n      .pipe(tap((evt: MouseEvent) => evt.preventDefault()));\n  }\n\n  onMouseUp(): Observable<Point2D> {\n    return this.fromEvent('mouseup').pipe(map(this.toCoords));\n  }\n\n  onMouseDown(): Observable<Point2D> {\n    return this.fromEvent('mousedown').pipe(map(this.toCoords));\n  }\n\n  onMouseMove(): Observable<Point2D> {\n    return this.fromEvent('mousemove').pipe(map(this.toCoords));\n  }\n\n  onMouseLeave(): Observable<MouseEvent> {\n    return this.fromEvent('mouseleave');\n  }\n\n  onEnd(): Observable<MouseEvent> {\n    return merge(\n      this.fromEvent('mouseup'),\n      this.fromEvent('mouseleave')\n    );\n  }\n\n  toCoords = (evt: MouseEvent): Point2D => {\n    const p = this.elRef.nativeElement.createSVGPoint();\n    p.x = evt.clientX;\n    p.y = evt.clientY;\n\n    const point = p.matrixTransform(\n      this.elRef.nativeElement.getScreenCTM().inverse()\n    );\n\n    return new Point2D(point.x, point.y);\n  }\n}\n","export class Point2D {\n  static add(p1: Point2D, p2: Point2D): Point2D {\n    return new Point2D(p1.x + p2.x, p1.y + p2.y);\n  }\n\n  static getMidpoint(p1: Point2D, p2: Point2D): Point2D {\n    return Point2D.getDifference(p1, p2).divideBy(2).add(p1);\n  }\n\n  static getDifference(p1: Point2D, p2: Point2D): Point2D {\n    return new Point2D(p2.x - p1.x, p2.y - p1.y);\n  }\n\n  static size(p1: Point2D): number {\n    return Math.sqrt((Math.pow(p1.x, 2) + Math.pow(p1.y, 2)));\n  }\n\n  constructor(\n    public x: number = 0,\n    public y: number = 0\n  ) {}\n\n  divideBy(num: number): this {\n    this.x = this.x / num;\n    this.y = this.y / num;\n\n    return this;\n  }\n\n  add(p: Point2D): this {\n    this.x += p.x;\n    this.y += p.y;\n\n    return this;\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { MouseServiceDirective } from '@directives/mouse/mouse-service.directive';\nimport { Subject } from 'rxjs/Subject';\nimport { takeUntil } from 'rxjs/operators';\nimport { Point2D } from '@math/point2d';\nimport { CanvasService } from '@services/canvas/canvas.service';\nimport { of } from 'rxjs/observable/of';\n\n@Component({\n  selector: 'app-control-tool',\n  template: ``\n})\nexport class ControlToolComponent implements OnInit, OnDestroy {\n  private destroy$: Subject<boolean> = new Subject<boolean>();\n  constructor(\n    private canvasService: CanvasService,\n    private mouseService: MouseServiceDirective\n  ) { }\n\n  ngOnInit(): void {\n    this.mouseService.onMouseDown()\n      .pipe(\n        takeUntil(this.destroy$)\n      )\n      .subscribe(this.handleMouseDown);\n  }\n\n  handleMouseDown = (p: Point2D): void => {\n    of(p)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n  }\n\n}\n","import { Observable } from 'rxjs/Observable';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { Subject } from 'rxjs/Subject';\nimport { takeUntil, mergeMap, withLatestFrom, map } from 'rxjs/operators';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Point2D } from '@math/point2d';\nimport { Shape, CircleShape, PolylineShape } from '@shapes';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@store/app-state';\nimport { of } from 'rxjs/observable/of';\nimport { CanvasService } from '@services/canvas/canvas.service';\nimport { PartialObserver } from 'rxjs/Observer';\nimport { MouseServiceDirective } from '@directives/mouse/mouse-service.directive';\nimport * as AppActions from '@store/actions/app.actions';\nimport { App } from '@store/reducers/app.reducer';\n\n@Component({\n  selector: 'app-drawing-tool',\n  template: ''\n})\nexport class DrawingToolComponent implements OnInit, OnDestroy {\n  private selectedColor$: Observable<string>;\n  private thickness$: Observable<number>;\n  private destroy$: Subject<boolean> = new Subject<boolean>();\n  constructor(\n    private store: Store<AppState>,\n    private mouseService: MouseServiceDirective,\n    private canvasService: CanvasService\n  ) {}\n\n  ngOnInit(): void {\n    this.selectedColor$ = this.store\n      .select('app')\n      .pipe(map((app: App) => app.selectedColor));\n\n    this.thickness$ = this.store\n      .select('app')\n      .pipe(map((app: App) => app.thickness));\n\n    this.mouseService.onMouseDown()\n      .pipe(\n        withLatestFrom(this.thickness$, this.selectedColor$),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(this.handleMouseDown);\n  }\n\n  handleMouseDown = (\n    [p, thickness, selectedColor]: [Point2D, number, string]\n  ): void => {\n    const circle = new CircleShape(p, thickness / 2, selectedColor);\n    const polyline = new PolylineShape([p], thickness, selectedColor);\n\n    of(p)\n      .pipe(\n        mergeMap(() => this.mouseService.onMouseMove()),\n        takeUntil(this.mouseService.onEnd()),\n        withLatestFrom(this.canvasService.canvasShapes$)\n      )\n      .subscribe(this.polylineObserver(polyline));\n\n    this.canvasService.add(circle);\n    this.store.dispatch(new AppActions.CreateShape(circle));\n  }\n\n  polylineObserver(polyline: PolylineShape): PartialObserver<[Point2D, Shape[]]> {\n    return {\n      next: ([pt, canvasShapes]: [Point2D, Shape[]]): void => {\n        if (!canvasShapes.includes(polyline)) {\n          this.canvasService.add(polyline);\n        }\n        polyline.append(pt);\n      },\n      complete: (): void => {\n        if (!this.shouldPolylineCreate(polyline)) {\n          return;\n        }\n\n        this.store.dispatch(new AppActions.CreateShape(polyline));\n      }\n    };\n  }\n\n  shouldPolylineCreate(polyline: PolylineShape): boolean {\n    return polyline.length() > 1;\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { MouseServiceDirective } from '@directives/mouse/mouse-service.directive';\nimport { takeUntil, mergeMap, withLatestFrom, map } from 'rxjs/operators';\nimport { Subject } from 'rxjs/Subject';\nimport { Point2D } from '@math/point2d';\nimport { RectShape } from '@shapes/rect/rect';\nimport { of } from 'rxjs/observable/of';\nimport { CanvasService } from '@services/canvas/canvas.service';\nimport { PartialObserver } from 'rxjs/Observer';\nimport * as AppActions from '@store/actions/app.actions';\nimport { Shape } from '@shapes/shape';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@store/app-state';\nimport { Observable } from 'rxjs/Observable';\nimport { Tool } from '@tools/types/tool';\nimport { Tools } from '@tools/types/tools';\nimport { CircleShape } from '@shapes';\nimport { App } from '@store/reducers/app.reducer';\n\n@Component({\n  selector: 'app-geometry-tool',\n  template: ''\n})\nexport class GeometryToolComponent implements OnInit, OnDestroy {\n  private selectedTool$: Observable<Tool>;\n  private destroy$: Subject<boolean> = new Subject<boolean>();\n  constructor(\n    private store: Store<AppState>,\n    private mouseService: MouseServiceDirective,\n    private canvasService: CanvasService\n  ) { }\n\n  ngOnInit(): void {\n    this.selectedTool$ = this.store\n      .select('app')\n      .pipe(map((app: App) => app.selectedTool));\n\n    this.mouseService.onMouseDown()\n      .pipe(\n        withLatestFrom(this.selectedTool$),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(this.handleMouseDown);\n\n  }\n\n  handleMouseDown = ([start, selectedTool]: [Point2D, Tool]): void => {\n    const shape: Shape = this.createShape(start, selectedTool);\n\n    of(start)\n      .pipe(\n        mergeMap(() => this.mouseService.onMouseMove()),\n        takeUntil(this.mouseService.onMouseUp())\n      ).subscribe(this.rectObserver(start, shape));\n\n    this.canvasService.add(shape);\n  }\n\n  rectObserver(start: Point2D, rect: Shape): PartialObserver<Point2D> {\n    return {\n      next: (end: Point2D): void => {\n        rect.transform(start, end);\n      },\n      complete: (): void => {\n        this.store.dispatch(new AppActions.CreateShape(rect));\n      }\n    };\n  }\n\n  createShape(start: Point2D, selectedTool: Tool): Shape {\n    switch (selectedTool.name) {\n      case Tools.Rect: {\n        return new RectShape(start.x, start.y);\n      }\n      case Tools.Circle: {\n        return new CircleShape(start);\n      }\n      default:\n        return;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-pointer-tool',\n  template: `\n    <p>\n      pointer-tool works!\n    </p>\n  `,\n  styles: []\n})\nexport class PointerToolComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Shape } from '@shapes/shape';\nimport { Point2D } from '@math/point2d';\nexport class CircleShape extends Shape {\n  public readonly type = 'circle';\n  cx: number;\n  cy: number;\n\n  constructor(\n    private center: Point2D,\n    public r: number = 0,\n    public fill: string = 'none',\n    public strokeWidth: number = 2\n  ) {\n    super();\n\n    this.cx = center.x;\n    this.cy = center.y;\n  }\n\n  getRadius(start: Point2D, end: Point2D): number {\n    const difference = Point2D.getDifference(start, end);\n\n    return Point2D.size(difference.divideBy(2));\n  }\n\n  moveTo(p: Point2D): this {\n    this.cx = p.x;\n    this.cy = p.y;\n\n    return this;\n  }\n\n  transform(start: Point2D, end: Point2D): void {\n    const midpoint = Point2D.getMidpoint(start, end);\n    const radius = this.getRadius(start, end);\n\n    this.r = radius;\n    this.moveTo(midpoint);\n  }\n\n  isOver(p: Point2D): boolean {\n    return false;\n  }\n}\n","import { Shape } from './shape';\nimport { PolylineShape } from '@shapes/polyline-shape';\nimport { CircleShape } from '@shapes/circle/circle';\nimport { RectShape } from '@shapes/rect/rect';\n\nexport {\n  Shape,\n  PolylineShape,\n  RectShape,\n  CircleShape\n};\n","import { Shape } from './shape';\nimport { Point2D } from '@math/point2d';\n\nexport class PolylineShape extends Shape {\n  public readonly type = 'polyline';\n  public fill = 'none';\n  public strokeLinecap = 'round';\n\n  constructor(\n    private points: Point2D[] = [],\n    public strokeWidth: number,\n    public stroke: string\n  ) {\n    super();\n  }\n\n  public toString(): string {\n    return this.points\n      .map((point: Point2D) => `${point.x},${point.y}`)\n      .join(' ');\n  }\n\n  public append(p: Point2D): void {\n    this.points.push(p);\n  }\n\n  public length(): number {\n    return this.points.length;\n  }\n\n  public transform(): void {\n  }\n\n  public isOver(p: Point2D): boolean {\n    return false;\n  }\n}\n","import { Point2D } from '@math/point2d';\nimport { Shape } from '@shapes/shape';\n\nexport interface BoundingRect {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport class RectShape extends Shape {\n  public readonly type = 'rect';\n\n  constructor(\n    public x: number = 0,\n    public y: number = 0,\n    public width: number = 0,\n    public height: number = 0,\n    public rx: number = 2,\n    public ry: number = 2,\n    public fill: string = 'none',\n    public strokeWidth: number = 2\n  ) {\n    super();\n  }\n\n  getBoundingRect(start: Point2D, end: Point2D): BoundingRect {\n    if (start.x <= end.x && start.y <= end.y) {\n      return {\n        x: start.x,\n        y: start.y,\n        width: end.x - start.x,\n        height: end.y - start.y\n      };\n    }\n\n    if (start.x <= end.x && start.y > end.y) {\n      return {\n        x: start.x,\n        y: end.y,\n        width: end.x - start.x,\n        height: start.y - end.y\n      };\n    }\n\n    if (start.x >= end.x && start.y > end.y) {\n      return {\n        x: end.x,\n        y: end.y,\n        width: start.x - end.x,\n        height: start.y - end.y\n      };\n    }\n\n    if (start.x >= end.x && start.y <= end.y) {\n      return {\n        x: end.x,\n        y: start.y,\n        width: start.x - end.x,\n        height: end.y - start.y\n      };\n    }\n  }\n\n  transform(start: Point2D, end: Point2D): void {\n\n    const { x, y, width, height }: BoundingRect = this.getBoundingRect(start, end);\n\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  isOver(p: Point2D): boolean {\n    return false;\n  }\n}\n","import { Point2D } from '@math/point2d';\n\nexport abstract class Shape {\n  public id: string;\n  public readonly type: string;\n  public stroke = 'black';\n  public rendered = false;\n  public editing = true;\n  public hovered = false;\n\n  public ofType(type: string): boolean {\n    return this.type === type;\n  }\n\n  constructor() {\n    this.id = crypto.getRandomValues(new Uint32Array(2))\n      .toString().replace(',', '');\n  }\n\n  abstract transform(start: Point2D, end: Point2D): void;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { TOOLS_TOKEN, tools } from './tools';\nimport { DrawingToolComponent } from './components/drawing-tool/drawing-tool.component';\nimport { GeometryToolComponent } from './components/geometry-tool/geometry-tool.component';\nimport { ControlToolComponent } from './components/control-tool/control-tool.component';\nimport { PointerToolComponent } from './components/pointer-tool/pointer-tool.component';\n\n@NgModule({\n  entryComponents: [\n    DrawingToolComponent,\n    GeometryToolComponent,\n    ControlToolComponent,\n    PointerToolComponent\n  ],\n  imports: [\n    CommonModule,\n    BrowserAnimationsModule\n  ],\n  declarations: [\n    DrawingToolComponent,\n    GeometryToolComponent,\n    ControlToolComponent,\n    PointerToolComponent\n  ],\n  providers: [\n    {\n      provide: TOOLS_TOKEN, useValue: tools\n    }\n  ]\n})\nexport class ToolsModule { }\n","import { InjectionToken } from '@angular/core';\nimport { Tool } from '@tools/types/tool';\nimport { DrawingToolComponent } from './components/drawing-tool/drawing-tool.component';\nimport { GeometryToolComponent } from './components/geometry-tool/geometry-tool.component';\nimport { ControlToolComponent } from './components/control-tool/control-tool.component';\nimport { PointerToolComponent } from './components/pointer-tool/pointer-tool.component';\nimport { Tools } from './types/tools';\n\nexport const tools: Tool[] = [\n  {\n    name: Tools.Pointer,\n    component: PointerToolComponent,\n    type: 'none',\n    imageUrl: 'assets/icons/pointer.svg'\n  },\n  {\n    name: Tools.Pencil,\n    component: DrawingToolComponent,\n    type: 'polyline',\n    imageUrl: 'assets/icons/pencil.svg'\n  },\n  {\n    name: Tools.Brush,\n    component: DrawingToolComponent,\n    type: 'polyline',\n    imageUrl: 'assets/icons/brush.svg'\n  },\n  {\n    name: Tools.Rect,\n    component: GeometryToolComponent,\n    type: 'rect',\n    imageUrl: 'assets/icons/rect.svg'\n  },\n  {\n    name: Tools.Circle,\n    component: GeometryToolComponent,\n    type: 'circle',\n    imageUrl: 'assets/icons/circle.svg'\n  },\n  {\n    name: Tools.Hand,\n    component: ControlToolComponent,\n    type: 'none',\n    imageUrl: 'assets/icons/hand.svg'\n  }\n];\n\nexport const TOOLS_TOKEN = new InjectionToken<Tool[]>('tools');\n","export enum Tools {\n  Pointer = 'pointer',\n  Pencil = 'pencil',\n  Brush = 'brush',\n  Rect = 'rect',\n  Circle = 'circle',\n  Hand = 'hand'\n}\n","import { Injectable } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@store/app-state';\nimport { Shape } from '@tools/shapes/shape';\nimport { Observable } from 'rxjs/Observable';\nimport { from } from 'rxjs/observable/from';\nimport { Subject } from 'rxjs/Subject';\nimport { scan, filter, map, share, pairwise, tap, startWith } from 'rxjs/operators';\nimport { PolylineShape } from '@tools/shapes';\nimport { OperatorFunction } from 'rxjs/interfaces';\nimport { CircleShape } from '@shapes/circle/circle';\nimport { RectShape } from '@shapes/rect/rect';\nimport { App } from '@store/reducers/app.reducer';\nimport { difference, length } from 'ramda';\nimport { combineLatest, timer } from 'rxjs';\nimport * as AppActions from '@store/actions/app.actions';\nimport { Point2D } from '../../math/point2d';\n\n@Injectable()\nexport class CanvasService {\n  private canvasHandler: Subject<Function> = new Subject<Function>();\n\n  private allStoreShapes$: Observable<Shape[]>;\n  private newStoreShapes$: Observable<Shape[]>;\n\n  public canvasShapes$: Observable<Shape[]>;\n  public polylines$: Observable<PolylineShape[]>;\n  public circles$: Observable<CircleShape[]>;\n  public rects$: Observable<RectShape[]>;\n\n  constructor(private store: Store<AppState>) {\n    this.allStoreShapes$ = this.store\n      .select('app')\n      .pipe(map((app: App) => app.shapes));\n\n    this.canvasShapes$ = this.canvasHandler\n      .pipe(\n        scan((shapes: Shape[], fn: Function) => fn(shapes), []),\n        startWith([]),\n        share()\n      );\n\n    this.newStoreShapes$ = this.allStoreShapes$\n      .pipe(\n        pairwise(),\n        map(([previous, next]: [Shape[], Shape[]]) => {\n          return difference(next, previous);\n        }),\n        filter((shapes: Shape[]) => length(shapes))\n      );\n\n    this.polylines$ = this.getShapes$('polyline');\n    this.circles$ = this.getShapes$('circle');\n    this.rects$ = this.getShapes$('rect');\n\n    combineLatest(this.canvasShapes$, this.newStoreShapes$)\n      .pipe(\n        map(([canvasShapes, newStoreShapes]: [Shape[], Shape[]]) => {\n          return difference(newStoreShapes, canvasShapes);\n        }))\n      .subscribe((shapes: Shape[]) => shapes.forEach(this.add));\n\n    // const randomNumber = (min: number, max: number): number => {\n    //   return Math.floor((Math.random() * (max - min + 1))) + min;\n    // };\n\n    // const randomPoint = (): Point2D => {\n    //   return new Point2D(randomNumber(50, 500), randomNumber(50, 500));\n    // };\n\n    // const randomCircle = (): CircleShape => {\n    //   return new CircleShape(randomPoint(), randomNumber(2, 10));\n    // };\n\n    // timer(1000, 1000)\n    //   .pipe(\n    //     tap(() => {\n    //       this.store.dispatch(new AppActions.CreateShape(randomCircle()));\n    //     })\n    //   ).subscribe();\n  }\n\n  getShapes$<T extends Shape>(type: string): Observable<T[]> {\n    return <Observable<T[]>>this.canvasShapes$\n      .pipe(this.filterBy(((shape: T): boolean => shape.ofType(type))));\n  }\n\n  add = (shape: Shape): void => {\n    this.canvasHandler.next((shapeStore: Shape[]) => shapeStore.concat(shape));\n  }\n\n  filterBy(fn: Function): OperatorFunction<Shape[], Shape[]> {\n    return (source$: Observable<Shape[]>): Observable<Shape[]> => {\n      return source$.pipe(\n        map((shapes: Shape[]) => {\n          return shapes.filter((shape: Shape) => fn(shape));\n        })\n      );\n    };\n  }\n}\n","import { Action } from '@ngrx/store';\nimport { Tool } from '@tools/types/tool';\nimport { Shape } from '@tools/shapes/shape';\n\nexport const SELECT_COLOR = '[Tools] Select color';\nexport const SELECT_TOOL = '[Tools] Select tool';\nexport const CREATE_SHAPE = '[Canvas] Create shape';\nexport const CHANGE_HOVER_STATE = '[Canvas] Change hover state';\nexport const BLUR_SHAPE = '[Canvas] Blur shape';\nexport const CHANGE_THICKNESS = '[Adjustments] Change thickness';\n\nexport class SelectColor implements Action {\n  readonly type = SELECT_COLOR;\n\n  constructor(public payload: string) {}\n}\n\nexport class SelectTool implements Action {\n  readonly type = SELECT_TOOL;\n\n  constructor(public payload: Tool) {}\n}\n\nexport class CreateShape implements Action {\n  readonly type = CREATE_SHAPE;\n\n  constructor(public payload: Shape) {}\n}\n\nexport interface ChangeHoverStatePayload {\n  id: string;\n  state: boolean;\n}\nexport class ChangeHoverState implements Action {\n  readonly type = CHANGE_HOVER_STATE;\n\n  constructor(public payload: ChangeHoverStatePayload) {}\n}\n\nexport class ChangeThickness implements Action {\n  readonly type = CHANGE_THICKNESS;\n\n  constructor(public payload: number) {}\n}\n\nexport type All = SelectColor | SelectTool | CreateShape | ChangeThickness | ChangeHoverState;\n","import { NgModule } from '@angular/core';\nimport { StoreModule } from '@ngrx/store';\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\nimport { appReducer } from './reducers/app.reducer';\nimport { EffectsModule } from '@ngrx/effects';\nimport { AppEffects } from './effects/app.effects';\n\n@NgModule({\n  imports: [\n    EffectsModule.forRoot([\n      AppEffects\n    ]),\n    StoreModule.forRoot({\n      app: appReducer\n    }),\n    StoreDevtoolsModule.instrument({\n      maxAge: 10\n    })\n  ]\n})\nexport class AppStoreModule { }\n","import { Effect, Actions, ofType } from '@ngrx/effects';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport * as AppActions from '@store/actions/app.actions';\n\n@Injectable()\nexport class AppEffects {\n  @Effect({ dispatch: false })\n  createShape$: Observable<AppActions.All> = this.actions$\n    .pipe(\n      ofType(AppActions.CREATE_SHAPE),\n      tap((action: AppActions.CreateShape) => action.payload.editing = false)\n    );\n\n  constructor(private actions$: Actions) {}\n}\n","import { Tool } from '@tools/types/tool';\nimport { Shape } from '@tools/shapes/shape';\nimport * as AppActions from '@store/actions/app.actions';\n\nexport interface App {\n  selectedTool: Tool;\n  selectedColor: string;\n  hoveredShape: Shape;\n  thickness: number;\n  fontSize: number;\n  shapes: Shape[];\n}\n\nconst defaultState: App = {\n  selectedTool: null,\n  selectedColor: '#000000',\n  hoveredShape: null,\n  thickness: 2,\n  fontSize: 13,\n  shapes: []\n};\n\nexport function appReducer(state: App = defaultState, action: AppActions.All): App {\n  switch (action.type) {\n    case AppActions.SELECT_TOOL: {\n      return {\n        ...state,\n        selectedTool: action.payload\n      };\n    }\n    case AppActions.SELECT_COLOR: {\n      return {\n        ...state,\n        selectedColor: action.payload\n      };\n    }\n    case AppActions.CREATE_SHAPE: {\n      action.payload.editing = false;\n\n      return {\n        ...state,\n        shapes: [\n          ...state.shapes,\n          action.payload\n        ]\n      };\n    }\n    case AppActions.CHANGE_HOVER_STATE: {\n      const shape = state.shapes.find((item: Shape) => item.id === action.payload.id);\n      const hoveredShape = action.payload.state ? shape : null;\n\n      return {\n        ...state,\n        hoveredShape\n      };\n    }\n    case AppActions.CHANGE_THICKNESS: {\n      return {\n        ...state,\n        thickness: action.payload\n      };\n    }\n    default:\n      return state;\n  }\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}