{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/canvas/canvas.component.html","webpack:///./src/app/components/canvas/canvas.component.scss","webpack:///./src/app/components/canvas/canvas.component.ts","webpack:///./src/app/components/circle/circle.component.ts","webpack:///./src/app/components/color-picker/color-picker.component.ts","webpack:///./src/app/components/index.ts","webpack:///./src/app/components/masthead/masthead.component.scss","webpack:///./src/app/components/masthead/masthead.component.ts","webpack:///./src/app/components/options-bar/options-bar.component.ts","webpack:///./src/app/components/panel/panel.component.scss","webpack:///./src/app/components/panel/panel.component.ts","webpack:///./src/app/components/polyline/polyline.component.ts","webpack:///./src/app/components/rect/rect.component.ts","webpack:///./src/app/components/socket-state/socket-state.component.scss","webpack:///./src/app/components/socket-state/socket-state.component.ts","webpack:///./src/app/components/toolbar-item/toolbar-item.component.scss","webpack:///./src/app/components/toolbar-item/toolbar-item.component.ts","webpack:///./src/app/components/toolbar/toolbar.component.scss","webpack:///./src/app/components/toolbar/toolbar.component.ts","webpack:///./src/app/components/user/user.component.scss","webpack:///./src/app/components/user/user.component.ts","webpack:///./src/app/components/users/users.component.scss","webpack:///./src/app/components/users/users.component.ts","webpack:///./src/app/directives/cursorable/cursorable.directive.ts","webpack:///./src/app/directives/index.ts","webpack:///./src/app/directives/mouse/mouse-service.directive.ts","webpack:///./src/app/enums/socket-event.enum.ts","webpack:///./src/app/enums/user-states.enum.ts","webpack:///./src/app/math/index.ts","webpack:///./src/app/math/point2d.ts","webpack:///./src/app/modules/tools/components/control-tool/control-tool.component.ts","webpack:///./src/app/modules/tools/components/drawing-tool/drawing-tool.component.ts","webpack:///./src/app/modules/tools/components/geometry-tool/geometry-tool.component.ts","webpack:///./src/app/modules/tools/components/index.ts","webpack:///./src/app/modules/tools/components/pointer-tool/pointer-tool.component.ts","webpack:///./src/app/modules/tools/enums/index.ts","webpack:///./src/app/modules/tools/enums/shape-state.enum.ts","webpack:///./src/app/modules/tools/enums/svg-shape.enum.ts","webpack:///./src/app/modules/tools/enums/tool-group.enum.ts","webpack:///./src/app/modules/tools/enums/tool-type.enum.ts","webpack:///./src/app/modules/tools/index.ts","webpack:///./src/app/modules/tools/shapes/circle/circle-shape.ts","webpack:///./src/app/modules/tools/shapes/polyline/polyline-shape.ts","webpack:///./src/app/modules/tools/shapes/rect/rect-shape.ts","webpack:///./src/app/modules/tools/shapes/shape.ts","webpack:///./src/app/modules/tools/tool-list.ts","webpack:///./src/app/modules/tools/tool-options.ts","webpack:///./src/app/modules/tools/tools.module.ts","webpack:///./src/app/services/canvas/canvas.service.ts","webpack:///./src/app/services/gui/gui.service.ts","webpack:///./src/app/services/index.ts","webpack:///./src/app/services/shape/shape.service.ts","webpack:///./src/app/services/socket/socket.service.ts","webpack:///./src/app/services/user/user.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\nimport { SocketService } from './services/socket/socket.service';\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <div class=\"container\">\n      <app-masthead></app-masthead>\n      <app-toolbar></app-toolbar>\n      <app-options-bar></app-options-bar>\n      <app-users></app-users>\n      <app-canvas></app-canvas>\n    </div>\n  `\n})\nexport class AppComponent {\n  constructor(private socketService: SocketService) {\n    this.socketService.connect();\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\nimport { AppComponent } from './app.component';\nimport { ToolsModule } from '@tools/tools.module';\nimport { CursorableDirective } from './directives/cursorable/cursorable.directive';\nimport { commonComponents } from '@components';\nimport { MouseServiceDirective } from '@directives/mouse/mouse-service.directive';\nimport { CanvasService } from '@services/canvas/canvas.service';\nimport { PolylineComponent } from './components/polyline/polyline.component';\nimport { CircleComponent } from './components/circle/circle.component';\nimport { RectComponent } from './components/rect/rect.component';\nimport { UserComponent } from './components/user/user.component';\nimport { SocketStateComponent } from './components/socket-state/socket-state.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    CursorableDirective,\n    MouseServiceDirective,\n    ...commonComponents,\n    PolylineComponent,\n    CircleComponent,\n    RectComponent,\n    UserComponent,\n    SocketStateComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    ToolsModule,\n    FormsModule\n  ],\n  providers: [\n    CanvasService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"<app-panel [panelTitle]=\\\"title\\\" class=\\\"canvas__panel\\\">\\n    <header>{{title}}</header>\\n    <svg xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n      id=\\\"svg\\\"\\n      viewBox=\\\"0 0 14000 14000\\\"\\n      width=\\\"14000\\\"\\n      height=\\\"14000\\\"\\n      #svg\\n      appCursorable\\n      appMouseService\\n    >\\n      <defs>\\n          <pattern id=\\\"grid\\\"\\n            patternUnits=\\\"userSpaceOnUse\\\"\\n            width=\\\"10\\\"\\n            height=\\\"10\\\">\\n              <line x1=\\\"5\\\" y1=\\\"0\\\" x2=\\\"5\\\" y2=\\\"10\\\" />\\n              <line x1=\\\"0\\\" y1=\\\"5\\\" x2=\\\"10\\\" y2=\\\"5\\\" />\\n          </pattern>\\n      </defs>\\n      <rect width=\\\"100%\\\" height=\\\"100%\\\" fill=\\\"url(#grid)\\\" />\\n      <g id=\\\"polylines\\\">\\n        <ng-container *ngFor=\\\"let polyline of canvasService.polylines$ | async\\\">\\n          <g *ngIf=\\\"polyline.isStable()\\\" [appPolyline]=\\\"polyline\\\"></g>\\n          <polyline *ngIf=\\\"!polyline.isStable()\\\"\\n            [attr.points]=\\\"polyline.toString()\\\"\\n            [attr.fill]=\\\"polyline.fill\\\"\\n            [attr.stroke]=\\\"polyline.getStroke()\\\"\\n            [attr.stroke-linecap]=\\\"polyline.strokeLinecap\\\"\\n            [attr.stroke-width]=\\\"polyline.getStrokeWidth()\\\"/>\\n        </ng-container>\\n      </g>\\n      <g id=\\\"circles\\\">\\n        <ng-container *ngFor=\\\"let circle of canvasService.circles$ | async\\\">\\n          <g *ngIf=\\\"circle.isStable()\\\" [appCircle]=\\\"circle\\\"></g>\\n          <circle *ngIf=\\\"!circle.isStable()\\\"\\n            [attr.cx]=\\\"circle.cx\\\"\\n            [attr.cy]=\\\"circle.cy\\\"\\n            [attr.r]=\\\"circle.r\\\"\\n            [attr.fill]=\\\"circle.fill\\\"\\n            [attr.stroke]=\\\"circle.getStroke()\\\"\\n            [attr.stroke-width]=\\\"circle.getStrokeWidth()\\\"\\n          />\\n        </ng-container>\\n      </g>\\n      <g id=\\\"rects\\\">\\n        <ng-container *ngFor=\\\"let rect of canvasService.rects$ | async\\\">\\n          <g *ngIf=\\\"rect.isStable()\\\" [appRect]=\\\"rect\\\"></g>\\n          <rect *ngIf=\\\"!rect.isStable()\\\"\\n            [attr.x]=\\\"rect.x\\\"\\n            [attr.y]=\\\"rect.y\\\"\\n            [attr.width]=\\\"rect.width\\\"\\n            [attr.height]=\\\"rect.height\\\"\\n            [attr.fill]=\\\"rect.fill\\\"\\n            [attr.stroke]=\\\"rect.getStroke()\\\"\\n            [attr.rx]=\\\"rect.rx\\\"\\n            [attr.ry]=\\\"rect.ry\\\"\\n            [attr.stroke-width]=\\\"rect.getStrokeWidth()\\\"\\n          />\\n        </ng-container>\\n      </g>\\n      <ng-container #vcr></ng-container>\\n    </svg>\\n</app-panel>\\n\"","module.exports = \"#grid > line {\\n  stroke: #e0e3e5;\\n  stroke-width: 1px; }\\n\\n#svg.cursor__hand g > rect:hover,\\n#svg.cursor__hand g > circle:hover,\\n#svg.cursor__hand g > polyline:hover {\\n  stroke: red; }\\n\\n.cursor__pencil {\\n  cursor: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAc9JREFUOI210z9IG2EYx/HfvXdnkiMGJRIRFNqqZ0Ap4r9FUJDqIEIphcqhmaSQIYJOhYppBxcJiIOCooNLgiBeK3TJ4FA6FDo0pQVpC05y/kONlzNRz8u9LibYVsU76zO/z4cvPLzAfx7G7uJkLFaqa5kApUbiVTC4eidwfGauVxCcMcKyBADU5MH061AoBADEKrabTDa4HPwUYVlCAWgpFaeZ4+CbSMRnGdxeeSuZX6OfnnX3CFnD0I5UFcfpDEAIm+U4ryVQkcOS8eN91Pw4ITi+R4XW+iYXNc11AICJxNjQ0M9bg4oclrC2EiV6igEAdWkU/LtBrvlxfWWxp/AzqNEDhqHALY6SwxhdYwAgvbWHk2QKAJBtfGryzyNNtaKYyL3n7GLE6YSjpDwgXsJuLFTkEQlrH67F+PaBPvHldOzvvStBuxhwxVEUeUSiNrF/CnMYsYn9UajI4TtjAMACwP6+VgdvxTLzO+7C6ZFtLF94Ro1Otqi8iHsxj/ShbhvLFwreh8Mej7tWB48DdyVcv+IgPG8Zy4MtbV39MwuLfkIYlFXVgT5oMdy+soBVDLj4KZyTi/urHlVvbO6cdD8p/lLg65gVawa+WcXuZc4BzFf0O30cAKIAAAAASUVORK5CYII=\\\") 3 18, auto; }\\n\\n.cursor__brush {\\n  cursor: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAN5JREFUOI2l0r1OAkEUBeDPtRNqKnsMoTKBhB4rI6+i+BY2/sCbQMsTUNgRsTOx4AWIhYVazGxcddcdwunmzpxzz9x72BMHFfUmztCO5zUW2NYJZLhCCzOsYr2LETaY4KOsa4YHnP7juIf7+PYPrmvIOfoYF7sS/tzCY4LAEsdowGEsnkfya4IAvKOD59xB2/fAUrDCCRXD2AW5wFpYVSq6eCoWmrjZQeAWR0UHWyEkvQTyAC94+32RCSHp15DvFBJcFuVLYc9zP6N8ETtP8VklkKOBobgqYWCLMtt74wuWPiOg5kawFgAAAABJRU5ErkJggg==\\\") 8.8 8.3, auto; }\\n\\n.cursor__circle {\\n  cursor: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiBg4KOhzE+JVaAAAAUElEQVQoz2NgQAXFDMWoAkxoCmwZbPErwACUK2BB4/8hpEGFQQVVgJGhGO7uPwwVDHwMDAyfGDrgJh8m6AaCVqCDNQxr8PsCnT8QIXkYXQEAlwsJnF2CXYYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMTRUMTA6NTg6MjgrMDI6MDApPXlJAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTE0VDEwOjU4OjI4KzAyOjAwWGDB9QAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\\\") 8.8 8.3, auto; }\\n\\n.cursor__rect {\\n  cursor: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiBg4KOhzE+JVaAAAAUElEQVQoz2NgQAXFDMWoAkxoCmwZbPErwACUK2BB4/8hpEGFQQVVgJGhGO7uPwwVDHwMDAyfGDrgJh8m6AaCVqCDNQxr8PsCnT8QIXkYXQEAlwsJnF2CXYYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMTRUMTA6NTg6MjgrMDI6MDApPXlJAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTE0VDEwOjU4OjI4KzAyOjAwWGDB9QAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\\\") 8 8, auto; }\\n\\n.cursor__hand {\\n  cursor: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAARFJREFUWIXt07EuBFEUgOEPa6kRERGt4AW8wSYK0XsAEoVtJUq24Ak8gUq8gU4hEqUQhU6BRKXQoJgrmNjZO5MZG8n8yc09c+bOOf/M3EtNTc0/pIUdDKTyC9jHeNUC93jHHNZwgjEchfx6nmKDBQSaYR7GFlaxFK4/8xPYxnQVAr89n67TRgebVQt0YzTMI/0SiKbvAkV4kuz2M7yG+BLPIb7BdYgPymjYwhVWUgIxo9OreMwvWMQ8jiXHrpm9/AcvOdZ2pSH53LFv/X1slCEAM3gsILBclgDJXnjLKTBbpgDs5mh+V3ZzGMJppMBeFQIw5evMZ43JqgTgvEfzh9hCjYICh7jIuH9bsG5NTc3f8wFebnUsLi7PNQAAAABJRU5ErkJggg==\\\") 16 15, auto; }\\n\\n.cursor__fist {\\n  cursor: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAANJJREFUWIXt1C9rwlEUh/GPf4IgDOuS72WvQLDbBaNpxbh1217E2tLa2rBaLFYtW9pgTNiWBBGn9/zwYrkPnHS/nPNwuPdSKBQKF6YRzHdwhy6uMcAcn2f2+pcRfvdqiRfco5ZbYHxAYLdmmKKVS+D2hMC2xjmG9/CRKPCY2rQeEBihnZi9yiHwHsgmv4qIwFMguwhkk2lhLe0O3OQQgGHC8IXYZkPU8XpCoJ9r+JbJkeE/gp9QlVW9HTlb4SvSrFlB4BkP2OB7r+YV+hUKhcJl+QMwI1gB4xGC6wAAAABJRU5ErkJggg==\\\") 16 15, auto; }\\n\"","import {\n  Component,\n  OnInit,\n  ViewChild,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  ElementRef,\n  Injector,\n  ViewEncapsulation,\n  Type\n} from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { CanvasService, GuiService } from '@services';\nimport { ControlToolComponent } from '@tools/components/control-tool/control-tool.component';\nimport {\n  PointerToolComponent,\n  DrawingToolComponent,\n  GeometryToolComponent\n} from '@tools/components';\nimport {\n  ToolTypeEnum,\n  ShapeStateEnum,\n  ToolGroupEnum\n} from '@tools/enums';\nimport { IToolListItem } from '@tools/interfaces';\n\n@Component({\n  selector: 'app-canvas',\n  templateUrl: './canvas.component.html',\n  styleUrls: [ './canvas.component.scss' ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class CanvasComponent implements OnInit {\n  title = 'Canvas';\n  currentCursor$: Observable<string>;\n\n  @ViewChild('vcr', { read: ViewContainerRef }) vcr: ViewContainerRef;\n  @ViewChild('svg') svgRef: ElementRef;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    public canvasService: CanvasService,\n    public injector: Injector,\n    public guiService: GuiService\n  ) { }\n\n  ngOnInit(): void {\n    this.guiService.tool$\n      .subscribe(this.loadComponent);\n  }\n\n  loadComponent = (tool: IToolListItem): void => {\n    this.vcr.clear();\n\n    if (!tool) {\n      return;\n    }\n\n    const componentFactory = this.componentFactoryResolver\n      .resolveComponentFactory(this.getComponentByGroup(tool.group));\n\n    const componentRef = this.vcr.createComponent(componentFactory);\n  }\n\n  getComponentByGroup(group: ToolGroupEnum): Type<any> {\n    switch (group) {\n      case ToolGroupEnum.Default:\n        return PointerToolComponent;\n      case ToolGroupEnum.Drawing:\n        return DrawingToolComponent;\n      case ToolGroupEnum.Geomentry:\n        return GeometryToolComponent;\n      case ToolGroupEnum.Control:\n        return ControlToolComponent;\n      default:\n        return PointerToolComponent;\n    }\n  }\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  HostListener,\n  EventEmitter,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\nimport { CircleShape } from '@shapes/circle/circle-shape';\nimport { ShapeStateEnum } from '@tools/enums';\nimport { CanvasService, GuiService } from '@services';\n\n@Component({\n  selector: '[appCircle]',\n  template: `\n    <svg:circle\n      [attr.cx]=\"circle.cx\"\n      [attr.cy]=\"circle.cy\"\n      [attr.r]=\"circle.r\"\n      [attr.fill]=\"circle.fill\"\n      [attr.stroke]=\"circle.stroke\"\n      [attr.stroke-width]=\"circle.strokeWidth\"\n      (mouseenter)=\"handleMouseEnter()\"\n      (mouseleave)=\"handleMouseLeave()\"\n    />\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class CircleComponent {\n  @Input('appCircle') circle: CircleShape;\n  constructor(private canvasService: CanvasService) {}\n\n  handleMouseEnter(): void {\n    this.canvasService.hoveredShape$.next(this.circle);\n  }\n\n  handleMouseLeave(): void {\n    this.canvasService.hoveredShape$.next(null);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { GuiService } from '@services/gui/gui.service';\n\n@Component({\n  selector: 'app-color-picker',\n  template: `\n    <input type=\"color\"\n      #colorPicker\n      [ngModel]=\"color\"\n      (ngModelChange)=\"handleChange($event)\">\n  `\n})\nexport class ColorPickerComponent implements OnInit {\n  color: string;\n  constructor(private guiService: GuiService) {\n  }\n\n  ngOnInit(): void {\n    this.color = this.guiService.currentStroke;\n  }\n\n  handleChange(color: string): void {\n    this.guiService.setStroke(color);\n  }\n}\n","import { MastheadComponent } from './masthead/masthead.component';\nimport { OptionsBarComponent } from './options-bar/options-bar.component';\nimport { PanelComponent } from './panel/panel.component';\nimport { ToolbarComponent } from './toolbar/toolbar.component';\nimport { ToolbarItemComponent } from './toolbar-item/toolbar-item.component';\nimport { UsersComponent } from './users/users.component';\nimport { CanvasComponent } from './canvas/canvas.component';\nimport { ColorPickerComponent } from './color-picker/color-picker.component';\n\nexport const commonComponents = [\n  MastheadComponent,\n  OptionsBarComponent,\n  PanelComponent,\n  ToolbarComponent,\n  ToolbarItemComponent,\n  UsersComponent,\n  CanvasComponent,\n  ColorPickerComponent\n];\n\nexport {\n  MastheadComponent,\n  OptionsBarComponent,\n  PanelComponent,\n  ToolbarComponent,\n  ToolbarItemComponent,\n  UsersComponent,\n  CanvasComponent,\n  ColorPickerComponent\n};\n","module.exports = \".masthead {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  height: 100%;\\n  background-color: #ffffff;\\n  box-shadow: 0 0 11px rgba(0, 0, 0, 0.13); }\\n  .masthead__logo {\\n    display: flex;\\n    align-items: center;\\n    height: 100%;\\n    padding: 0 20px;\\n    font-size: 15px;\\n    font-weight: 100;\\n    background-color: #353c4e;\\n    cursor: default; }\\n\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-masthead',\n  template: `\n    <div class=\"masthead\">\n      <div class=\"masthead__logo\">Angular<b>Paint</b></div>\n    </div>\n  `,\n  styleUrls: ['./masthead.component.scss']\n})\nexport class MastheadComponent {\n\n  constructor() { }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-options-bar',\n  template: `\n    <app-panel>\n      <header>{{title}}</header>\n      <app-color-picker></app-color-picker>\n    </app-panel>\n  `\n})\nexport class OptionsBarComponent implements OnInit {\n  title = 'Adjustments';\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","module.exports = \":host {\\n  display: flex;\\n  height: 100%;\\n  width: 100%; }\\n\\n.panel {\\n  position: relative;\\n  background-color: white;\\n  font-size: 12px;\\n  border-radius: 1px;\\n  box-shadow: 0 1px 11px 0 rgba(0, 0, 0, 0.12);\\n  border-radius: 5px;\\n  color: #505458;\\n  overflow: auto;\\n  width: 100%; }\\n\\n.panel__header {\\n    font-weight: 600;\\n    cursor: default;\\n    margin-bottom: 10px;\\n    padding: 5px; }\\n\\n.panel__content {\\n    line-height: 16px;\\n    padding: 5px; }\\n\"","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-panel',\n  template: `\n    <div class=\"panel\">\n      <div class=\"panel__header\">\n        <ng-content select=\"header\"></ng-content>\n      </div>\n      <div class=\"panel__content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n  styleUrls: ['./panel.component.scss']\n})\nexport class PanelComponent implements OnInit {\n  @Input() panelTitle: string;\n\n  ngOnInit(): void {\n\n  }\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  Output,\n  EventEmitter,\n  DoCheck,\n  ViewEncapsulation\n} from '@angular/core';\nimport { PolylineShape } from '@shapes/polyline/polyline-shape';\nimport { CanvasService } from '@services';\nimport { ShapeStateEnum } from '@tools/enums';\n\n@Component({\n  selector: '[appPolyline]',\n  template: `\n    <svg:polyline\n      [attr.points]=\"polyline.toString()\"\n      [attr.fill]=\"polyline.fill\"\n      [attr.stroke]=\"polyline.stroke\"\n      [attr.stroke-width]=\"polyline.strokeWidth\"\n      [attr.stroke-linecap]=\"polyline.strokeLinecap\"\n      (mouseenter)=\"handleMouseEnter()\"\n      (mouseleave)=\"handleMouseLeave()\"\n    />\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class PolylineComponent {\n  @Input('appPolyline') polyline: PolylineShape;\n\n  constructor(private canvasService: CanvasService) {\n\n  }\n\n  handleMouseEnter(): void {\n    this.canvasService.hoveredShape$.next(this.polyline);\n  }\n\n  handleMouseLeave(): void {\n    this.canvasService.hoveredShape$.next(null);\n  }\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  ViewEncapsulation\n} from '@angular/core';\nimport { RectShape } from '@shapes/rect/rect-shape';\nimport { ShapeStateEnum } from '@tools/enums';\nimport { CanvasService } from '@services';\n\n@Component({\n  selector: '[appRect]',\n  template: `\n    <svg:rect\n      [attr.x]=\"rect.x\"\n      [attr.y]=\"rect.y\"\n      [attr.width]=\"rect.width\"\n      [attr.height]=\"rect.height\"\n      [attr.fill]=\"rect.fill\"\n      [attr.stroke]=\"rect.stroke\"\n      [attr.rx]=\"rect.rx\"\n      [attr.ry]=\"rect.ry\"\n      [attr.stroke-width]=\"rect.strokeWidth\"\n      (mouseenter)=\"handleMouseEnter()\"\n      (mouseleave)=\"handleMouseLeave()\"\n    />\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class RectComponent {\n  @Input('appRect') rect: RectShape;\n  constructor(private canvasService: CanvasService) {}\n\n  handleMouseEnter(): void {\n    this.canvasService.hoveredShape$.next(this.rect);\n  }\n\n  handleMouseLeave(): void {\n    this.canvasService.hoveredShape$.next(null);\n  }\n}\n","module.exports = \".icon {\\n  position: absolute;\\n  top: 5px;\\n  right: 10px;\\n  background-size: contain;\\n  width: 32px;\\n  height: 32px; }\\n\\n.icon__socket-connected {\\n  background-image: url(\\\"data:image/png;base64,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\\\"); }\\n\\n.icon__socket-disconnected {\\n  background-image: url(\\\"data:image/png;base64,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\\\");\\n  -webkit-animation: blink 2s infinite ease-in-out;\\n          animation: blink 2s infinite ease-in-out;\\n  opacity: 1; }\\n\\n@-webkit-keyframes blink {\\n  45% {\\n    opacity: 0.4; } }\\n\\n@keyframes blink {\\n  45% {\\n    opacity: 0.4; } }\\n\"","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-socket-state',\n  template: `\n    <div class=\"icon\" [ngClass]=\"getConnectionClass()\">\n  `,\n  styleUrls: ['./socket-state.component.scss']\n})\nexport class SocketStateComponent {\n  @Input() state: boolean;\n\n  getConnectionClass(): string {\n    return this.state ?\n      'icon__socket-connected' : 'icon__socket-disconnected';\n  }\n}\n","module.exports = \"@media screen and (min-width: 961px) {\\n  :host {\\n    margin-bottom: 10px; } }\\n\\n.tool__icon {\\n  width: 20px;\\n  height: 20px;\\n  background-size: contain; }\\n\\n.tool__icon--pointer {\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAUJJREFUWIXt1r8rBnEcB/CXx2NgIFIWZWCRehbbM/APsDyZLbLYJP+AsthJNmVkYTAoRVJGFguDSQmjRJzhPDnlx3meO9+Ud11d1/e+n1ffu/veh/+kS3teEzemHLeCO5xnDSikHNeCLYxlDUibdUR4wkRIQPWYCQ2IMI+GkIAIi9K/R7kAIqyhKSQgwiaaa5k4q+UbxTZaQwFgGLvoDAWAQeyjOxQA+nGAvlAA6HlFlEIBoAt7KIcA3OIUx5hE22cDixkVPME4rnCNx7Q31rMCR4nzEh5w+ZPi9QA2MCT+5KqZrnGuVEluxaveHl0lcf1e/OLlCljyftWKuEgg5vIELPj4/z+bANyI27fMU/6kOHSIG9YqYioPwHdZTgDOpO+2M8uA9/1B5bcBsJMAHIYAjOBZvEd8uf/nlQJ6QxT+23kBlMZat5Aux7gAAAAASUVORK5CYII=\\\"); }\\n\\n.tool__icon--pencil {\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAABDNJREFUaIHtmFtoXEUYx39zzsluNpsmkaZeEhOtuWwa27RpxDxEC1WsilUULFTwqQkotS8WZSEFIWCRiPhSsGkNavGlfShJfBEt9ALFG0KlrYUmGlOyaba5mL1mt9mzZ3yIWZKT3e62ye4eMf/HmW9mfv/zfXOGGVjTmv7fEvkGWNCnPT0PUVDQIxT1aaGoxWDEjFjsTyPOB++91dGfapwlDHzc0/Om3VH0laZpqrlPAnORyJmDHe27ko1dNiDX6u7t3ecodHypaZqSKmY2FK5p2/lM6MKZ73809+U1A929vfscNnuvqqpJOSQQnPERjUYwIKrE9Zout/vm4piUrrOtKb+/tcXlejfVF1wMD6BAIaq61xyXFwNTfn+rIflu25amzQ11tcNGPC4X95vhE+1SNpvnyrkBb19nR+zsJxcUKUsBmjc11rjqaofjhiEhNTwAQtjMTVqWeZfI29fZoV8ZOK7oEaFLHW2nG4Rg+6bGGkWIP64NDtWEA0GRFH5eg+aGnGVgMTyA8dsp9HPdIOerZ6uroba2qmoyGo2EU80hDPW0uS0nv1Ez/IKk93dkdAbxSBujnpvEYnFn+f0bYuPe8RhgLpevu94/eNQ8d9YzkAp+QfFLp5j+bA8zMz4AnLZCZ0vzdoBEJgyDiwSL3042PqsZSAcvpSQ8NsHcjes4vT8Tdu0GIbCpmm0hE4bBL0qR/cUu9/6kpZU1A96+zg796jdp4W8H/uXyT1I8/hOzrt0gFGyqZqt4cMPImO/vHV0HDoRSrZOVkzgBH5vNDH4x0MONTL52jIIiZ6DErtU3NTXdutNaq56BlcADEJikKDqm2ze/sDEdPKzyObBieECsK5Pa+pqWhgzgYRX/QmnhyRD+iTe2Nbxz9HKm667KHvCe7uzQr6WB96w+PKyCgXzCwwoN5BseVmDACvBwjwasAg/3YCAT+JBngrkcwMNdGrAaPNzFOTAxcKjdavCQYQYmBg61z10e+Nxq8JCBASvDQxoDVoeHOxj4L8BDik08PTbSNjd03nIbNpmW3Qem/P5Wo8DxrVr9pEMOngE9uqTfSvBgMuD1+R4DcVGBUlG0HrGxjcUmrAYPphJSpaxWoDTRWV6Huuc4wlFmSXjI4CBTyutQXz9G6FbAcvBgKqGKuq3PlTidL99XVpJok1LimY4ScjyAfegcSGPZJPmCB1MGfL7QOvfhI/x1YwyYhx8dHWPGH2C2+imCr3yEUJdeo/MJD0lKKBAM4z58hOERTwJ+QWYT+YYHkwGhzL+0BoJh9rs/5OwPvy4bkDBRXpF3eDA/qyjzfmK3I8T1GCdO9sPeV2l+vH5JWLz+2YCx5fn6TJ8+sqklGZC6ri7AA0hDcuJkP5euXk/E2AvtGb2Y5UpLMlAitC9e2rXjyrIgpSD8aEXVBEBhofBUVlbO5gpwTWvKsv4Bbxb4aK+jhpEAAAAASUVORK5CYII=\\\"); }\\n\\n.tool__icon--brush {\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAnCAYAAABJ0cukAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAABV1JREFUWIXNWW1Mk1cUfs55WyhCqQIWdIr4NeMkxgxI5mYiiSZbXGKmgkynWaIoyz6IZHHxY0rIqJuZc3GauSrL1C0u1M1txhndkg0R5mxkoit+bAKBICA6bPkoH23v3Q+tTkpLWwrs+ffec85zn3PPufe9b17C/wgHtxa/IMHbITELhL3yTmtBzoEch68YGi5xvpCfn88TXMkfAdjwmEGKcyywbO37WXe8xY54AqZMk2J9ko4QYaUXl2qXdD7/mmFFdX9GHkJtfsE2A/t9iAeAqSxVZUWbv03uzziiCRx4t3gjQOsG8iNGglCcJQe2mOZ42IZG2sAo2nZsgUviDAOK30ECdyUjfX1hZpV7aEQSOLj5aLxQ1JcZiA88WjSxosxbW5BRA4xQC0lFfSg48QDA44TDdfrwpuOxwAhU4OBWUw6IPhs0kcTZBlXcQv/7LwQw5psSyUU/gBA2aDJCklZ2iuFtIQf2gxEVOkL51rAlYNzyzTJmWhRKTpJsGZY9YMw/MQqunusMTAwVp4CQJLFwWCrQZrudE0rxAEDgnesNWb8MeQU2rNw0xeUQVYnjp10YrR0zPySkEoeyDRlrCCSHvAIuJz4Bs6a+uWa+raO1JASUe93igSF+kb3x8qbFILzofq5rqk0POgkhnFLK3HWFmblu8UAg95AAkZeRF+GSqpNEGP3fcVuHNUmj0pRoNBFJ/nIJgUYmXrzOkHmsr23IKuDksM3MSOrPVtdSm26z+VkJgRMqKeZkGzJK+zMPehNfvHhRJ6WcR0TTpJRaImqvrqq1lp6qMDIQ7it2kn5yiU4Xk96vbiGsxJS3vnD5IV8cqmCFV1ZW6p1O5w4hxCpmDgcAovvrUXv9ll+lrWupTZ8EeCQhhDguoXozp3BZ00AcQSVgNpvTent7TzKzntlTqn58LG7VNPvF1SeJWgnk5uzIOumvloA3sdlsTmbmEiKK9eYTP3EsmAnN9V6/xR+DrbNVH6Ya9bY20rU2+71XrgaiJ6A9YLFYorq6uv4goun++F85fw2Xyqp8+kiJ74RKyfv0qKEuEC1uBNRC3d3dH/orHgBmz50JAP0mIST+ZkbuvuIPTgeioS/8bqGKigsLhMAecu9UP+HZTsIOUAG1da7e+/3uGwGp7Qd+ifny7O5x0WExl59QJ48NdqIr56/hn9v3kDhjQlbW6qWmYHn6YsAWktKkGM9dMOtoTNDigUftBCBuMDx9wV+X71rgzXim8khkUdmlq1bRMCGSvR46AUFKqQ0J0QOobM6mw8bSjV1RHPNFuCbyeJdTNiq9YqZLZV9zw1b+ql1awxWooSV9SCYkovaQED2AKloV/3m9o2L7PVFvQAcMDy29j5zi1TPAdL/b7jqroZAaY5TEoCYUQvw1KMV9wCue7SyI4JjugRyrek6hzG7EtZ6foFPGBzWZEMLOzL8FFewFTFQg9Mrkbb6cGh0WNDmq0Cs6MUuzCBzkFYqIvkpNTbUHFewFDAArnntnVxxN8fnKjORYPB2xHDHKpKAmEkJYmbkgqGAfeLiUcfqpc3ta7A3tsjnaPRZOUUgKewbRnACdkoBB3L5dRLQqJSWlcZB6PfDwKvnSzOz2OHXiU1pKaHOP9cgONDkt6JZtcEqff3q8QgjRIYRYmpaW9mMI9HrAY0l/tZiiaqxXyu86b86WkI+5ajgKDDXmaJZgFMf4w/8zEb2ekpJyM2SK+8BrTxSXf7ymVTTsbHPdinMnokIYZkcsQYzvI7RLSnmCiPalpqaWhVivBwZs6uLSPfN7FFter8uRPD1iHkVSrE4IoQXgANBGRC0AagD8KaX8nZnPhvqk8YV/AQrl7L6UheIyAAAAAElFTkSuQmCC\\\");\\n  background-position-y: 2px; }\\n\\n.tool__icon--rect {\\n  background-image: url(\\\"data:image/png;base64,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\\\");\\n  -webkit-transform: scale(0.9);\\n          transform: scale(0.9); }\\n\\n.tool__icon--circle {\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAA55JREFUaIHNmk1LFVEYx393tBelzJuptAg1Cu0bZDspUPwAYWJYG0MjpDZtqkVBJH6EaFUbF0VF2ygIuRYUElKS4UqyN69eDYSKa4tnLk5nnnPv3HFmvD84C8+cl/+ce+Z5OccU0dAEdAHHgWPAESAN7HWfrwHLwBwwC2SAF8CPiOYPRRoYAaaAjRAlj7zIMFCfpPBmYBxZ1TDCtbIKjCG/ZGxUA1fcyaISbpYcMApURS2+DXhThpB1YB5475Z5ty5o/9dAa1Tie4GVEhMuAXeBPndiRxnHQRaiH7gHZEuMmQV6tip+EPhTZJJ3wGlgZ4ixdyEvPF1k/D/AwFbE5y0DL7jCo6IfWLTMlSfES/RiX/kJoC4K1Qb1wEPLnL+B7qADtWHf81cjlaxzzTJ3Fmgp1bkau7UZikevyohFQ4YSJvaypWMSK29yw6Llkq1DM7qTmohbaRGeKHpWgEat8bjSeIF4PtigpIFviq47WkMttonSVIblLH5dqxgBoPbRvE1Upp0UMINf3wVvIy0kroTVL6D9CpOFh03KwyXChQdxUYNEqqaHbnCQTMrkEeL9KoV14KlRlwK6HCQNNHkeu6Ty0TR1OkgOazIVs5gwZJS6DoDP/L+31tHj+e2mGtnWXq2fHMQHeFlEPpBK4y/w3ahLO2wefRT4lYyeUKwZf9dV4lYpCwf/W+3ZDiEBMXfLqoOcmHk5SGV+xDuQiNlL1kGO+7zsJkDmsw0cRiyRlzkHOas06YxfT9mcUOpmHXQHcTJmMWHQNGVAgjnz+CRLZQVztfizxTywv9Aggz8i7Utcpp1B/PpeeRsMKw2mk9VoxQE+UOKUpB49oT+TpFIL5/HrygH7zIZjSsMvJHz5YNCAxD+mrtta4yb8Wc8Gcty3HaSAZ4qeZeCArdOo0mEDOe5LmpsWLReLdapCLhe0jiMxijWxLeQkAcKcVuRn0ga4HovcTVLALcvcS8ChoAP1YD9ef4w/CYqCBvQ9v4FkYqfKHXAA+wXHV+SsJhWBcAcxlZq1KXjc/rCDD+DPQ71lBnmRmhBj1yIeVnNS3pUPLb5AN6Uv5HLAfeAc0I4/7MWta0dW+wGlr2t/EmLb2GhBj5eKrdwC8NEtCxS/LNSsTeAPNihVyOWC5uyiKsuInY81I2xEzuejvLHPIeGB1cPGQT1yxD2J3VoVK3kkJB5CCcyCEoUZBLHhXUgq2gEcRXxF4XZnFTEE3n+3eYk4py3xD4EHMY6gLCAAAAAAAElFTkSuQmCC\\\");\\n  -webkit-transform: scale(0.9);\\n          transform: scale(0.9); }\\n\\n.tool__icon--hand {\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAjdJREFUeJztmTFLHEEUx3+G0wgG1ERJYSmJhXKIXUoJqMRokSIWKSxUxE/gN7BOl1JQ0CrpLAKxsFDETgiEFN6hIF6RiBhEMeJZ7Mndjmeye/vmbS68HwzHzuy8ee9/O29mZ8EwDMMwDMMwDMMwfNEIPAcexOjTBbT5cUeXLLAPFIEtAjH+RAOwXLr/Ahj36p0C6wTB3JbhirYsMA+8rKgbdO7f9OlcxqfxEk+d6/bS7wtgg/ITMQJ8Bp4497vXosSZk9K8JTwdRmP0bZByIk0B3FzQFKHPGFAAfgGzEk6kKUBcMsASwZRqAd4DD5MarScBWgkvi80ILJP1JEC1eZ84F9STAF4wAdJ2IG1MgBTHvi+BufVim55qaGyFXaaAS+C1U/8KeAPMOPXPgGngvIqtorh3HvhK+OVGsnQmdU5qCvQDH4FVoFvIZhSuFMe6lwxwSPlfOQJ6K9p9PgEtXiOLSAd3HfsBDJTad6q0S5RrPCfIOKxx18ET4APBqY4PAU5VIovIY8rHXlolL+G4VBI8BiaA30L2olCQMCK5EdomON/T4kBxrFh8QmcKLGgFFJdWYA//ArzTCqgWBvCX/W9Lj1o0NTKHv+BFEqAGK/gRYFEziCQ8Ar4hL8CQZhBJ6QPOkAv+O//QFjgqk8gJMKHsuxhfSB78NcH3ADE0j8TyAjYKBMurGJoC/BSwsS9gI4SmADkBG7sCNkJoZ9MewgexRae9+Je2HLpvnIZhGIZhGIZhGMZ/yQ3WDH049ZCqDAAAAABJRU5ErkJggg==\\\");\\n  -webkit-transform: scale(1.5);\\n          transform: scale(1.5); }\\n\"","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { IToolListItem } from '@tools/interfaces/tool-list-item.interface';\nimport {\n  trigger,\n  state,\n  style,\n  transition,\n  animate\n} from '@angular/animations';\n\n@Component({\n  selector: 'app-toolbar-item',\n  template: `\n    <div class=\"tool\" [@toolState]=\"toolState\">\n      <div class=\"tool__icon\" [ngClass]=\"getIconClass()\" (mousedown)=\"handleSelect($event)\"></div>\n    </div>\n  `,\n  animations: [\n    trigger('toolState', [\n      state('inactive', style({\n        transform: 'scale(1)'\n      })),\n      state('active', style({\n        transform: 'scale(1.4)'\n      })),\n      transition('inactive => active', animate('200ms ease-in-out')),\n      transition('active => inactive', animate('100ms ease-out'))\n    ])\n  ],\n  styleUrls: [ './toolbar-item.component.scss' ]\n})\nexport class ToolbarItemComponent {\n  toolState = 'inactive';\n  @Output() select: EventEmitter<IToolListItem> = new EventEmitter<IToolListItem>();\n  @Input() tool: IToolListItem;\n  @Input()\n  set selected(isSelected: boolean) {\n    this.toolState = isSelected ? 'active' : 'inactive';\n  }\n\n  handleSelect(evt: MouseEvent): void {\n    evt.stopPropagation();\n    this.select.emit(this.tool);\n  }\n\n  getIconClass(): string {\n    return `tool__icon--${this.tool.type}`;\n  }\n}\n","module.exports = \".toolbar-list {\\n  display: flex;\\n  justify-content: space-around;\\n  flex-wrap: wrap;\\n  margin-bottom: 5px; }\\n\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { TOOL_LIST_TOKEN } from '@tools';\nimport { GuiService } from '@services/gui/gui.service';\nimport { IToolList } from '@tools/interfaces/tool-list.interface';\nimport { IToolListItem } from '@tools/interfaces';\n\n@Component({\n  selector: 'app-toolbar',\n  template: `\n    <app-panel>\n      <header>{{title}}</header>\n      <div class=\"toolbar-list\">\n        <app-toolbar-item\n          *ngFor=\"let tool of toolList\"\n          [tool]=\"tool\"\n          [selected]=\"isSelected(tool)\"\n          (select)=\"handleSelect($event)\">\n        </app-toolbar-item>\n      </div>\n    </app-panel>\n  `,\n  styleUrls: [ './toolbar.component.scss' ]\n})\nexport class ToolbarComponent implements OnInit {\n  title = 'Tools';\n\n  constructor(\n    @Inject(TOOL_LIST_TOKEN) public toolList: IToolList,\n    private guiService: GuiService\n  ) {}\n\n  ngOnInit(): void {\n    this.guiService.setTool(this.toolList[0]);\n  }\n\n  isSelected(tool: IToolListItem): boolean {\n    return this.guiService.isCurrentTool(tool);\n  }\n\n  handleSelect(tool: IToolListItem): void {\n    this.guiService.setTool(tool);\n  }\n}\n","module.exports = \".user {\\n  display: flex;\\n  align-items: center; }\\n\\n.user__name {\\n  font-weight: bold;\\n  margin-right: 5px; }\\n\\n.user__icon {\\n  width: 30px;\\n  height: 30px;\\n  margin-right: 10px;\\n  background-size: contain; }\\n\\n.user__icon.user__icon--1 {\\n    background-image: url(\\\"data:image/png;base64,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\\\"); }\\n\\n.user__icon.user__icon--2 {\\n    background-image: url(\\\"data:image/png;base64,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\\\"); }\\n\\n.user__icon.user__icon--3 {\\n    background-image: url(\\\"data:image/png;base64,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\\\"); }\\n\\n.user__icon.user__icon--4 {\\n    background-image: url(\\\"data:image/png;base64,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\\\"); }\\n\\n.user__icon.user__icon--drawing {\\n    background-image: url('animated-pencil.gif'); }\\n\"","import { Component, Input } from '@angular/core';\nimport { User } from '@interfaces/user.interface';\nimport { UserStates } from '@enums/user-states.enum';\nimport { UserService } from '@services/user/user.service';\n\n@Component({\n  selector: 'app-user',\n  template: `\n    <div class=\"user\">\n      <div class=\"user__icon\" [ngClass]=\"userClass\"></div>\n      <div class=\"user__name\">{{user.username}}</div>\n      <span *ngIf=\"isMe()\">(you)</span>\n      <span *ngIf=\"isDrawing()\"\n        class=\"user__icon user__icon--drawing\">\n      </span>\n    </div>\n  `,\n  styleUrls: ['./user.component.scss']\n})\nexport class UserComponent {\n  @Input() user: User;\n  userClass: string;\n\n  constructor(private userService: UserService) {\n    this.userClass = this.getRandomUserClass();\n  }\n\n  getRandomUserClass(): string {\n    const randomIndex = Math.floor(Math.random() * 4) + 1;\n\n    return `user__icon--${randomIndex}`;\n  }\n\n  isDrawing(): boolean {\n    return this.user.state === UserStates.DRAWING;\n  }\n\n  isMe(): boolean {\n    return this.user.me;\n  }\n}\n","module.exports = \".user-list--active {\\n  opacity: 1; }\\n\\n.user-list--inactive {\\n  opacity: 0.4; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { SocketService } from '../../services/socket/socket.service';\nimport { UserService } from '../../services/user/user.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-users',\n  template: `\n    <app-panel>\n      <header>\n        {{this.title}}\n        <app-socket-state [state]=\"connectionState\"></app-socket-state>\n      </header>\n      <div class=\"user-list\" [ngClass]=\"getConnectionClass()\">\n        <app-user *ngFor=\"let user of userService.users$ | async\" [user]=\"user\"></app-user>\n      </div>\n    </app-panel>\n  `,\n  styleUrls: ['./users.component.scss']\n})\nexport class UsersComponent implements OnInit {\n  title = 'Users';\n  connectionState;\n\n  constructor(\n    public socketService: SocketService,\n    public userService: UserService\n  ) {}\n\n  ngOnInit(): void {\n    this.socketService.getConnectionState()\n      .subscribe((connectionState: boolean) => {\n        this.connectionState = connectionState;\n      });\n  }\n\n  getConnectionClass(): string {\n    return this.connectionState ?\n      'user-list--active' : 'user-list--inactive';\n  }\n}\n","import { GuiService } from '@services/gui/gui.service';\nimport {\n  Directive,\n  Input,\n  Renderer2,\n  ElementRef,\n  OnInit\n} from '@angular/core';\n@Directive({\n  selector: '[appCursorable]'\n})\nexport class CursorableDirective implements OnInit {\n  @Input('appCursorable') cursor: string;\n  svg: SVGSVGElement;\n  prefix = 'cursor';\n\n  constructor(\n    private elRef: ElementRef,\n    private r: Renderer2,\n    private guiService: GuiService\n  ) {\n    this.svg = this.elRef.nativeElement;\n  }\n\n  ngOnInit(): void {\n    this.guiService.cursor$.subscribe(this.handleChangeCursor);\n  }\n\n  handleChangeCursor = (cursor: string): void => {\n    this.r.removeAttribute(this.svg, 'class');\n    this.r.addClass(this.svg, `${this.prefix}__${cursor}`);\n  }\n}\n","import { MouseServiceDirective } from './mouse/mouse-service.directive';\n\nexport {\n  MouseServiceDirective\n};\n","import { Directive, ElementRef } from '@angular/core';\nimport { not, complement } from 'ramda';\nimport { Observable, fromEvent, merge, of, empty } from 'rxjs';\nimport {\n  map,\n  tap,\n  mapTo,\n  startWith,\n  switchMap,\n  first,\n  filter,\n  sample,\n  skip,\n  takeUntil,\n  finalize,\n  throttleTime,\n  withLatestFrom\n} from 'rxjs/operators';\nimport { Point2D } from '@math';\nimport { Shape } from '@shapes/shape';\nimport { DragHandler } from '../../modules/tools/shapes/shape';\nimport { User } from '@interfaces/user.interface';\nimport { SocketService } from '@services/socket/socket.service';\nimport { Subject } from 'rxjs/Subject';\nimport { UserService } from '@services/user/user.service';\nimport { GuiService } from '@services';\nimport { IToolListItem } from '@tools/interfaces';\nimport { ToolTypeEnum } from '@tools/enums';\nimport { UserStates } from '@enums/user-states.enum';\n\nexport interface ListenOptions {\n  create(pStart: Point2D): Shape;\n  start(shape: Shape, pStart: Point2D): void | DragHandler;\n  next?(shape: Shape, pStart: Point2D, pCurrent: Point2D, handler?: DragHandler | void): void;\n  complete(shape: Shape, withoutMoves: boolean): void;\n}\n\nexport type IListenCallback = (point: Point2D) => Subject<boolean | Point2D>;\n\n@Directive({\n  selector: '[appMouseService]'\n})\nexport class MouseServiceDirective {\n  private mouseDowns$: Observable<Point2D>;\n  private mouseUps$: Observable<Point2D>;\n  private mouseMoves$: Observable<Point2D>;\n  private mouseDrags$: Observable<Point2D>;\n  private touchStarts$: Observable<Point2D>;\n  private touchMoves$: Observable<Point2D>;\n  private touchEnds$: Observable<Point2D>;\n\n  public starts$: Observable<Point2D>;\n  public moves$: Observable<Point2D>;\n  public ends$: Observable<Point2D>;\n\n  public withMoves$: Observable<boolean>;\n  public withoutMoves$: Observable<boolean>;\n  public dragging$: Observable<boolean>;\n  private startDrawing$: Observable<UserStates>;\n  private endDrawing$: Observable<UserStates>;\n  private drawingState$: Observable<UserStates>;\n\n  constructor(\n    private elRef: ElementRef,\n    private socketService: SocketService,\n    private userService: UserService,\n    private guiService: GuiService\n  ) {\n    this.mouseDowns$ = this.fromEvent('mousedown').pipe(map(this.mouseEventToCoordinate));\n    this.mouseMoves$ = this.fromEvent('mousemove').pipe(filter(this.isBtnPressed), map(this.mouseEventToCoordinate));\n    this.mouseUps$ = this.fromEvent('mouseup').pipe(map(this.mouseEventToCoordinate));\n    this.touchStarts$ = this.fromEvent('touchstart').pipe(map(this.touchEventToCoordinate));\n    this.touchMoves$ = this.fromEvent('touchmove').pipe(map(this.touchEventToCoordinate));\n    this.touchEnds$ = this.fromEvent('touchend').pipe(map(this.touchEventToCoordinate));\n\n    this.starts$ = merge(this.mouseDowns$, this.touchStarts$).pipe(map(this.toSVGCoordinate));\n    this.moves$ = merge(this.mouseMoves$, this.touchMoves$).pipe(throttleTime(5), map(this.toSVGCoordinate));\n    this.ends$ = merge(this.mouseUps$, this.touchEnds$).pipe(map(this.toSVGCoordinate));\n\n    this.startDrawing$ = merge(this.mouseDowns$, this.touchStarts$).pipe(\n      withLatestFrom(this.guiService.tool$),\n      filter(([point, tool]: [Point2D, IToolListItem]) => tool.type !== ToolTypeEnum.Pointer),\n      mapTo(UserStates.DRAWING)\n    );\n    this.endDrawing$ = merge(this.mouseUps$, this.touchEnds$).pipe(mapTo(UserStates.IDLE));\n    this.drawingState$ = merge(this.startDrawing$, this.endDrawing$);\n\n    this.withoutMoves$ = merge(\n      of(true),\n      this.mouseMoves$.pipe(mapTo(false), skip(1))\n    )\n    .pipe(sample(this.mouseUps$));\n\n    this.drawingState$.pipe(\n      withLatestFrom(this.userService.users$)\n    )\n      .subscribe(([drawingState, users]: [UserStates, User[]]) => {\n        users.filter((user: User) => user.me).forEach((user: User) => {\n          this.userService.changeState(user.id, drawingState);\n        });\n      });\n  }\n\n  fromEvent(name: string): Observable<MouseEvent> {\n    return fromEvent(this.elRef.nativeElement, name)\n      .pipe(tap((evt: MouseEvent) => evt.preventDefault()));\n  }\n\n  mouseEventToCoordinate(event: MouseEvent): Point2D {\n    return new Point2D(event.clientX, event.clientY);\n  }\n\n  touchEventToCoordinate(event: TouchEvent): Point2D {\n    const touch = event.changedTouches[0];\n\n    return new Point2D(touch.clientX, touch.clientY);\n  }\n\n  isBtnPressed = (event: MouseEvent): boolean => {\n    return event.buttons === 1;\n  }\n\n  listenDropsV2(fn: IListenCallback): Observable<boolean | Point2D> {\n    return this.starts$\n      .pipe(\n        switchMap((pStart: Point2D) => {\n          const handler = fn(pStart);\n\n          return this.withoutMoves$\n            .pipe(\n              tap((withoutMoves: boolean) => {\n                withoutMoves ?\n                  handler.next(withoutMoves) : handler.error(withoutMoves);\n\n                handler.complete();\n              })\n            );\n          }\n        )\n      );\n  }\n\n  listenDragsV2(fn: IListenCallback): Observable<boolean | Point2D> {\n    return this.starts$\n      .pipe(\n        switchMap((pStart: Point2D) => {\n          const handler = fn(pStart);\n\n          return this.moves$\n            .pipe(\n              tap((point: Point2D) => handler.next(point)),\n              takeUntil(this.ends$),\n              finalize(() => handler.complete())\n            );\n          }\n        )\n      );\n  }\n\n  listenDrags$({\n    create, start, next, complete\n  }: ListenOptions): Observable<Point2D> {\n    return this.starts$\n      .pipe(\n        switchMap((pStart: Point2D) => {\n          const shape = create(pStart);\n          if (!shape) {\n            return empty();\n          }\n\n          const handler = start(shape, pStart);\n\n          return this.moves$\n            .pipe(\n              tap((pCurrent: Point2D) => next(shape, pStart, pCurrent, handler)),\n              takeUntil(this.ends$),\n              finalize(() => {\n                complete(shape, true);\n              })\n            );\n          }\n        ));\n  }\n\n  listenDrops$({\n    create, start, complete\n  }: ListenOptions): Observable<boolean> {\n    return this.starts$\n      .pipe(\n        switchMap((point: Point2D) => {\n          const shape = create(point);\n          start(shape, point);\n\n          return this.withoutMoves$\n            .pipe(\n              tap(() => complete(shape, true))\n            );\n          }\n        )\n      );\n  }\n\n  onMouseUp(): Observable<Point2D> {\n    return this.fromEvent('mouseup').pipe(map(this.toSVGCoordinate));\n  }\n\n  onMouseDown(): Observable<Point2D> {\n    return this.fromEvent('mousedown').pipe(map(this.toSVGCoordinate));\n  }\n\n  onMouseMove(): Observable<Point2D> {\n    return this.fromEvent('mousemove').pipe(map(this.toSVGCoordinate));\n  }\n\n  onMouseLeave(): Observable<MouseEvent> {\n    return this.fromEvent('mouseleave');\n  }\n\n  onEnd(): Observable<MouseEvent> {\n    return merge(\n      this.fromEvent('mouseup'),\n      this.fromEvent('mouseleave')\n    );\n  }\n\n  toSVGCoordinate = ({x, y}: Point2D): Point2D => {\n    const p = this.elRef.nativeElement.createSVGPoint();\n    p.x = x;\n    p.y = y;\n\n    const point = p.matrixTransform(\n      this.elRef.nativeElement.getScreenCTM().inverse()\n    );\n\n    return new Point2D(point.x, point.y);\n  }\n}\n","export enum SocketEventEnum {\n  SAVE_USERNAME = 'save username',\n  CHANGE_STATE = 'change state',\n  SHAPE_CHANGE = 'change shape',\n  SHAPE_ADD = 'shape add',\n  USER_JOIN = 'user join',\n  USER_LEFT = 'user left',\n  ALL_USERS = 'all users',\n  START_DRAWING = 'user starts drawing',\n  STOP_DRAWING = 'user stop drawing',\n\n  CONNECT = 'connect',\n  CONNECTION = 'connection',\n  DISCONNECT = 'disconnect',\n  CONNECT_ERROR = 'connect_error'\n}\n","export enum UserStates {\n  IDLE = 'idle',\n  DRAWING = 'drawing'\n}\n","import { Point2D } from './point2d';\n\nexport {\n  Point2D\n};\n","export class Point2D {\n  static add(p1: Point2D, p2: Point2D): Point2D {\n    return new Point2D(p1.x + p2.x, p1.y + p2.y);\n  }\n\n  static getMidpoint(p1: Point2D, p2: Point2D): Point2D {\n    return Point2D.subtract(p1, p2).divideBy(2).add(p1);\n  }\n\n  static subtract(p1: Point2D, p2: Point2D): Point2D {\n    return new Point2D(p2.x - p1.x, p2.y - p1.y);\n  }\n\n  static size(p1: Point2D): number {\n    return Math.sqrt((Math.pow(p1.x, 2) + Math.pow(p1.y, 2)));\n  }\n\n  constructor(\n    public x: number = 0,\n    public y: number = 0\n  ) {}\n\n  divideBy(num: number): this {\n    this.x = this.x / num;\n    this.y = this.y / num;\n\n    return this;\n  }\n\n  add(p: Point2D): this {\n    this.x += p.x;\n    this.y += p.y;\n\n    return this;\n  }\n\n  isCorrect(): boolean {\n    return this.x >= 0 && this.y >= 0;\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { MouseServiceDirective } from '@directives';\nimport { Point2D } from '@math';\nimport { CanvasService } from '@services';\nimport { Shape } from '@shapes/shape';\nimport { partial, bind } from 'ramda';\nimport { ShapeStateEnum } from '@tools/enums';\nimport { of, Subject, Observable } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { merge } from 'rxjs/observable/merge';\nimport { SocketService } from '@services/socket/socket.service';\nimport { SocketEventEnum } from '@enums/socket-event.enum';\n\n@Component({\n  selector: 'app-control-tool',\n  template: ``\n})\nexport class ControlToolComponent implements OnInit, OnDestroy {\n  private destroy$: Subject<boolean> = new Subject<boolean>();\n  private hoveredShape$: Observable<Shape>;\n\n  constructor(\n    private canvasService: CanvasService,\n    private mouseService: MouseServiceDirective,\n    private socketService: SocketService\n  ) { }\n\n  ngOnInit(): void {\n    this.mouseService.listenDragsV2((pStart: Point2D): Subject<Point2D> => {\n      const handler = new Subject<Point2D>();\n      const shape = this.canvasService.hoveredShape;\n\n      if (!shape) {\n        handler.complete();\n\n        return handler;\n      }\n\n      shape.setState(ShapeStateEnum.DRAGGING);\n\n      handler.subscribe(\n        bind(shape.getDragHandler(pStart), shape),\n        null,\n        partial(this.handleSuccess, [shape])\n      );\n\n      return handler;\n    })\n    .pipe(takeUntil(this.destroy$))\n    .subscribe();\n  }\n\n  handleSuccess = (shape: Shape): void => {\n    shape.setState(ShapeStateEnum.STABLE);\n    this.socketService.send(of(shape), SocketEventEnum.SHAPE_CHANGE);\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Point2D } from '@math';\nimport * as R from 'ramda';\nimport { Shape } from '@shapes/shape';\nimport { MouseServiceDirective } from '@directives';\nimport { CanvasService, GuiService } from '@services';\nimport { Subject } from 'rxjs/Subject';\nimport { of } from 'rxjs/observable/of';\nimport { ShapeService } from '@services/shape/shape.service';\nimport { SocketEventEnum } from '@enums/socket-event.enum';\nimport { SocketService } from '@services/socket/socket.service';\nimport { ShapeStateEnum } from '@tools/enums';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-drawing-tool',\n  template: ''\n})\nexport class DrawingToolComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<boolean>();\n\n  constructor(\n    private mouseService: MouseServiceDirective,\n    private canvasService: CanvasService,\n    private guiService: GuiService,\n    private shapeService: ShapeService,\n    private socketService: SocketService\n  ) {}\n\n  ngOnInit(): void {\n\n    this.mouseService.listenDropsV2((pStart: Point2D): Subject<Point2D> => {\n      const handler = new Subject<Point2D>();\n      const circle = this.shapeService.createCircle(pStart, true)\n        .setState(ShapeStateEnum.STABLE)\n        .seal();\n\n      this.canvasService.add(circle);\n\n      handler.subscribe(\n        () => this.handleSuccess(circle),\n        () => this.handleFailed(circle)\n      );\n\n      return handler;\n    })\n    .pipe(takeUntil(this.destroy$))\n    .subscribe();\n\n    this.mouseService.listenDragsV2((pStart: Point2D): Subject<Point2D> => {\n      const handler = new Subject<Point2D>();\n      const polyline = this.shapeService.createPolyline(pStart).seal();\n\n      this.canvasService.add(polyline);\n\n      handler.subscribe(\n        polyline.addPoint.bind(polyline),\n        null,\n        () => {\n          polyline.isCorrect() ?\n            this.handleSuccess(polyline) : this.handleFailed(polyline);\n        }\n      );\n\n      return handler;\n    })\n    .pipe(takeUntil(this.destroy$))\n    .subscribe();\n  }\n\n  handleSuccess(shape: Shape): void {\n    shape.setState(ShapeStateEnum.STABLE);\n    this.canvasService.update();\n    this.socketService.send(of(shape), SocketEventEnum.SHAPE_ADD);\n  }\n\n  handleFailed(shape: Shape): void {\n    this.canvasService.remove(shape);\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subject, of, Observable } from 'rxjs';\nimport { tap, mergeMap, takeUntil } from 'rxjs/operators';\nimport { partial, bind } from 'ramda';\nimport { Point2D } from '@math';\nimport { Shape } from '@shapes/shape';\nimport { RectShape } from '@shapes/rect/rect-shape';\nimport { CircleShape } from '@shapes/circle/circle-shape';\nimport { MouseServiceDirective } from '@directives';\nimport { CanvasService, GuiService } from '@services';\nimport {\n  ShapeStateEnum,\n  ToolTypeEnum,\n  SVGShapeEnum\n} from '@tools/enums';\nimport { IToolList, IToolListItem } from '@tools/interfaces';\nimport { ShapeService } from '@services/shape/shape.service';\nimport { SocketService } from '@services/socket/socket.service';\nimport { SocketEventEnum } from '@enums/socket-event.enum';\n\n@Component({\n  selector: 'app-geometry-tool',\n  template: ''\n})\nexport class GeometryToolComponent implements OnInit, OnDestroy {\n  private selectedTool$: Observable<IToolListItem>;\n  private destroy$: Subject<boolean> = new Subject<boolean>();\n\n  constructor(\n    private mouseService: MouseServiceDirective,\n    private canvasService: CanvasService,\n    private guiService: GuiService,\n    private shapeService: ShapeService,\n    private socketService: SocketService\n  ) { }\n\n  ngOnInit(): void {\n    this.mouseService.listenDragsV2((pStart: Point2D): Subject<Point2D> => {\n      const handler = new Subject<Point2D>();\n      const shape = this.createShape(pStart);\n\n      this.canvasService.add(shape);\n\n      handler.subscribe(\n        bind(partial(shape.transform, [pStart]), shape),\n        null,\n        partial(this.handleSuccess, [shape])\n      );\n\n      return handler;\n    })\n    .pipe(takeUntil(this.destroy$))\n    .subscribe();\n  }\n\n  createShape(point: Point2D): Shape {\n    if (this.guiService.isCurrentShape(SVGShapeEnum.Rect)) {\n      return this.shapeService.createRect(point);\n    }\n\n    if (this.guiService.isCurrentShape(SVGShapeEnum.Circle)) {\n      return this.shapeService.createCircle(point);\n    }\n  }\n\n  handleSuccess = (shape: Shape): void => {\n    shape.setState(ShapeStateEnum.STABLE);\n    this.canvasService.update();\n    this.socketService.send(of(shape), SocketEventEnum.SHAPE_ADD);\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n  }\n}\n","import { DrawingToolComponent } from './drawing-tool/drawing-tool.component';\nimport { GeometryToolComponent } from './geometry-tool/geometry-tool.component';\nimport { ControlToolComponent } from './control-tool/control-tool.component';\nimport { PointerToolComponent } from './pointer-tool/pointer-tool.component';\n\nexport {\n  DrawingToolComponent,\n  GeometryToolComponent,\n  ControlToolComponent,\n  PointerToolComponent\n};\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-pointer-tool',\n  template: '',\n  styles: []\n})\nexport class PointerToolComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { ShapeStateEnum } from './shape-state.enum';\nimport { SVGShapeEnum } from './svg-shape.enum';\nimport { ToolGroupEnum } from './tool-group.enum';\nimport { ToolTypeEnum } from './tool-type.enum';\n\nexport {\n  ShapeStateEnum,\n  SVGShapeEnum,\n  ToolGroupEnum,\n  ToolTypeEnum\n};\n","export enum ShapeStateEnum {\n  STABLE = 'stable',\n  EDITING = 'editing',\n  DRAGGING = 'dragging'\n}\n","export enum SVGShapeEnum {\n  None = 'None',\n  Polyline = 'polyline',\n  Circle = 'circle',\n  Rect = 'rect'\n}\n","export enum ToolGroupEnum {\n  Default = 'Default',\n  Drawing = 'Drawing',\n  Geomentry = 'Geometry',\n  Control = 'Control'\n}\n","export enum ToolTypeEnum {\n  Pointer = 'pointer',\n  Pencil = 'pencil',\n  Brush = 'brush',\n  Rect = 'rect',\n  Circle = 'circle',\n  Hand = 'hand'\n}\n","import { ToolsModule } from './tools.module';\nimport { TOOL_LIST_TOKEN, toolList } from './tool-list';\n\nexport {\n  ToolsModule,\n  TOOL_LIST_TOKEN,\n  toolList\n};\n","import { Shape } from '@shapes/shape';\nimport { Point2D } from '@math';\nimport { DragHandler } from '../shape';\nimport {\n  SHAPE_DEFAULT_STROKE,\n  SHAPE_HOVER_STROKE\n} from '@tools/tool-options';\n\nexport class CircleShape extends Shape {\n  public readonly type = 'circle';\n  cx;\n  cy;\n\n  constructor(\n    public center: Point2D,\n    public stroke: string,\n    public strokeWidth: number,\n    public fill: string = 'none',\n    public r: number = 1\n  ) {\n    super();\n\n    this.cx = center.x;\n    this.cy = center.y;\n  }\n\n  static composeShape(rawShape: Object): CircleShape {\n    Object.setPrototypeOf(rawShape, CircleShape.prototype);\n\n    return <CircleShape>rawShape;\n  }\n\n  getRadius(start: Point2D, end: Point2D): number {\n    const difference = Point2D.subtract(start, end);\n\n    return Point2D.size(difference.divideBy(2));\n  }\n\n  transform(start: Point2D, end: Point2D): this {\n    const {x, y}: Point2D = Point2D.getMidpoint(start, end);\n    const radius = this.getRadius(start, end);\n\n    this.r = radius;\n    this.cx = x;\n    this.cy = y;\n\n    return this;\n  }\n\n  public getDragHandler(start: Point2D): DragHandler {\n    const xStartX = start.x - this.cx;\n    const xStartY = start.y - this.cy;\n\n    return (end: Point2D): void => {\n      this.cx = end.x - xStartX;\n      this.cy = end.y - xStartY;\n    };\n  }\n}\n","import { Shape, DragHandler } from '../shape';\nimport { Point2D } from '@math';\n\nexport class PolylineShape extends Shape {\n  readonly type = 'polyline';\n  fill = 'none';\n  strokeLinecap = 'round';\n\n  constructor(\n    public points: Point2D[],\n    public strokeWidth: number,\n    public stroke: string\n  ) {\n    super();\n  }\n\n  static composeShape(rawShape: Object): PolylineShape {\n    Object.setPrototypeOf(rawShape, PolylineShape.prototype);\n\n    return <PolylineShape>rawShape;\n  }\n\n  public addPoint = (point: Point2D): void => {\n    this.points.push(point);\n  }\n\n  public toString(): string {\n    return this.points\n      .map((point: Point2D) => `${point.x},${point.y}`)\n      .join(' ');\n  }\n\n  public isCorrect(): boolean {\n    return this.points.length > 2;\n  }\n\n  public getDragHandler(start: Point2D): DragHandler {\n    const points = this.points\n      .map((point: Point2D) => new Point2D(point.x, point.y));\n\n    return (end: Point2D): void => {\n      const move = Point2D.subtract(start, end);\n\n      this.points = points.map((point: Point2D) => {\n        return new Point2D(point.x + move.x, point.y + move.y);\n      });\n    };\n  }\n}\n","import { Point2D } from '@math/point2d';\nimport { Shape, DragHandler } from '@shapes/shape';\nimport { SHAPE_DEFAULT_STROKE, SHAPE_DEFAULT_STROKE_WIDTH } from '@tools/tool-options';\n\nexport interface BoundingRect {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport class RectShape extends Shape {\n  public readonly type = 'rect';\n  width = 0;\n  height = 0;\n  x = 0;\n  y = 0;\n  rx = 2;\n  ry = 2;\n\n  constructor(\n    start: Point2D,\n    public stroke: string = SHAPE_DEFAULT_STROKE,\n    public strokeWidth: number = SHAPE_DEFAULT_STROKE_WIDTH,\n    public fill: string = 'none'\n  ) {\n    super();\n\n    this.x = start.x;\n    this.y = start.y;\n  }\n\n  static composeShape(rawShape: Object): RectShape {\n    Object.setPrototypeOf(rawShape, RectShape.prototype);\n\n    return <RectShape>rawShape;\n  }\n\n  getBoundingRect(start: Point2D, end: Point2D): BoundingRect {\n    if (start.x <= end.x && start.y <= end.y) {\n      return {\n        x: start.x,\n        y: start.y,\n        width: end.x - start.x,\n        height: end.y - start.y\n      };\n    }\n\n    if (start.x <= end.x && start.y > end.y) {\n      return {\n        x: start.x,\n        y: end.y,\n        width: end.x - start.x,\n        height: start.y - end.y\n      };\n    }\n\n    if (start.x >= end.x && start.y > end.y) {\n      return {\n        x: end.x,\n        y: end.y,\n        width: start.x - end.x,\n        height: start.y - end.y\n      };\n    }\n\n    if (start.x >= end.x && start.y <= end.y) {\n      return {\n        x: end.x,\n        y: start.y,\n        width: start.x - end.x,\n        height: end.y - start.y\n      };\n    }\n  }\n\n  transform(start: Point2D, end: Point2D): this {\n\n    const { x, y, width, height }: BoundingRect = this.getBoundingRect(start, end);\n\n    this.x = x;\n    this.y = y;\n    this.setSize(width, height);\n\n    return this;\n  }\n\n  public getDragHandler(start: Point2D): DragHandler {\n    const xStartX = start.x - this.x;\n    const xStartY = start.y - this.y;\n\n    return (end: Point2D): void => {\n      this.x = end.x - xStartX;\n      this.y = end.y - xStartY;\n    };\n  }\n\n  private setSize(width: number, height: number): this {\n    this.width = width;\n    this.height = height;\n\n    return this;\n  }\n}\n","import { Point2D } from '@math';\nimport { ShapeStateEnum } from '@tools/enums';\nimport { SHAPE_HOVER_STROKE } from '../tool-options';\n\nexport type DragHandler = (point: Point2D) => void;\n\nexport abstract class Shape {\n  public id: string;\n  public readonly type: string;\n  protected stroke;\n  protected strokeWidth;\n  public state = ShapeStateEnum.EDITING;\n\n  public ofType(type: string): boolean {\n    return this.type === type;\n  }\n\n  setState(state: ShapeStateEnum): this {\n    this.state = state;\n\n    return this;\n  }\n\n  public isCorrect(): boolean {\n    return true;\n  }\n\n  public transform(start: Point2D, end: Point2D): this {\n    return this;\n  }\n\n  public seal(): this {\n    this.id = crypto.getRandomValues(new Uint32Array(2))\n      .toString().replace(',', '');\n\n    return this;\n  }\n\n  public getStroke(): string {\n    return this.isDragging() ?\n      SHAPE_HOVER_STROKE : this.stroke;\n  }\n\n  public getStrokeWidth(): number {\n    return this.isDragging() ?\n      this.strokeWidth * 1.5 : this.strokeWidth;\n  }\n\n  public isStable(): boolean {\n    return this.state === ShapeStateEnum.STABLE;\n  }\n\n  public isDragging(): boolean {\n    return this.state === ShapeStateEnum.DRAGGING;\n  }\n\n  abstract getDragHandler(point: Point2D): DragHandler;\n}\n","import { InjectionToken } from '@angular/core';\nimport { IToolList } from '@tools/interfaces';\nimport {\n  ToolTypeEnum,\n  ToolGroupEnum,\n  SVGShapeEnum\n} from '@tools/enums';\n\nimport {\n  SHAPE_DEFAULT_STROKE_WIDTH,\n  SHAPE_THICK_STROKE_WIDTH\n} from './tool-options';\n\nexport const toolList: IToolList = [\n  {\n    type: ToolTypeEnum.Pointer,\n    group: ToolGroupEnum.Default,\n    shape: SVGShapeEnum.None,\n    strokeWidth: SHAPE_DEFAULT_STROKE_WIDTH\n  },\n  {\n    type: ToolTypeEnum.Pencil,\n    group: ToolGroupEnum.Drawing,\n    shape: SVGShapeEnum.Polyline,\n    strokeWidth: SHAPE_DEFAULT_STROKE_WIDTH\n  },\n  {\n    type: ToolTypeEnum.Brush,\n    group: ToolGroupEnum.Drawing,\n    shape: SVGShapeEnum.Polyline,\n    strokeWidth: SHAPE_THICK_STROKE_WIDTH\n  },\n  {\n    type: ToolTypeEnum.Rect,\n    group: ToolGroupEnum.Geomentry,\n    shape: SVGShapeEnum.Rect,\n    strokeWidth: SHAPE_DEFAULT_STROKE_WIDTH\n  },\n  {\n    type: ToolTypeEnum.Circle,\n    group: ToolGroupEnum.Geomentry,\n    shape: SVGShapeEnum.Circle,\n    strokeWidth: SHAPE_DEFAULT_STROKE_WIDTH\n  },\n  {\n    type: ToolTypeEnum.Hand,\n    group: ToolGroupEnum.Control,\n    shape: SVGShapeEnum.None,\n    strokeWidth: SHAPE_DEFAULT_STROKE_WIDTH\n  }\n];\n\nexport const TOOL_LIST_TOKEN = new InjectionToken<IToolList>('toolList');\n","export const SHAPE_DEFAULT_STROKE = '#1945ee';\nexport const SHAPE_HOVER_STROKE = '#ff4500';\nexport const SHAPE_DEFAULT_STROKE_WIDTH = 2;\nexport const SHAPE_THICK_STROKE_WIDTH = 10;\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { TOOL_LIST_TOKEN, toolList } from './tool-list';\nimport {\n  DrawingToolComponent,\n  GeometryToolComponent,\n  ControlToolComponent,\n  PointerToolComponent\n} from './components';\n\n@NgModule({\n  entryComponents: [\n    DrawingToolComponent,\n    GeometryToolComponent,\n    ControlToolComponent,\n    PointerToolComponent\n  ],\n  imports: [\n    CommonModule,\n    BrowserAnimationsModule\n  ],\n  declarations: [\n    DrawingToolComponent,\n    GeometryToolComponent,\n    ControlToolComponent,\n    PointerToolComponent\n  ],\n  providers: [\n    {\n      provide: TOOL_LIST_TOKEN, useValue: toolList\n    }\n  ]\n})\nexport class ToolsModule { }\n","import { Injectable } from '@angular/core';\nimport * as R from 'ramda';\nimport { Shape } from '@shapes/shape';\nimport { CircleShape } from '@shapes/circle/circle-shape';\nimport { RectShape } from '@shapes/rect/rect-shape';\nimport { PolylineShape } from '@shapes/polyline/polyline-shape';\nimport { ShapeStateEnum, SVGShapeEnum } from '@tools/enums';\nimport { BehaviorSubject, Subject, from, Observable, OperatorFunction } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  scan,\n  filter,\n  map,\n  share,\n  tap,\n  startWith\n} from 'rxjs/operators';\n\n@Injectable()\nexport class CanvasService {\n  private shapeHandler$: Subject<Function> = new Subject<Function>();\n  public shapeStore$: Observable<Shape[]>;\n  public shapes$: Observable<Shape[]>;\n  public hoveredShape$: BehaviorSubject<Shape> = new BehaviorSubject(null);\n\n  public polylines$: Observable<PolylineShape[]>;\n  public circles$: Observable<CircleShape[]>;\n  public rects$: Observable<RectShape[]>;\n\n  constructor() {\n    this.shapeStore$ = this.shapeHandler$\n      .pipe(\n        scan((shapes: Shape[], fn: Function) => fn(shapes), []),\n        startWith([]),\n        share()\n      );\n\n    this.polylines$ = this.getShapes$('polyline');\n    this.circles$ = this.getShapes$('circle');\n    this.rects$ = this.getShapes$('rect');\n  }\n\n  getShapes$<T extends Shape>(type: string): Observable<T[]> {\n    return <Observable<T[]>>this.shapeStore$\n      .pipe(\n        this.filterBy(((shape: T): boolean => shape.ofType(type))),\n        distinctUntilChanged((a: Shape[], b: Shape[]) => R.equals(a, b))\n      );\n  }\n\n  add = (shape: Shape): void => {\n    this.shapeHandler$.next(\n      (shapes: Shape[]) => shapes.concat(shape)\n    );\n  }\n\n  remove = (removedShape: Shape): void => {\n    this.shapeHandler$.next((shapes: Shape[]) => {\n      return shapes.filter((shape: Shape) => shape.id !== removedShape.id);\n    });\n  }\n\n  replace = (replacedShape: Shape): void => {\n    this.shapeHandler$.next((shapes: Shape[]) => {\n      return shapes.filter((shape: Shape) => shape.id !== replacedShape.id).concat(replacedShape);\n    });\n  }\n\n  setState = (id: string, state: ShapeStateEnum): void => {\n    this.shapeHandler$.next((shapeStore: Shape[]) => {\n      const shape = shapeStore.find((item: Shape) => item.id === id);\n\n      if (shape) {\n        shape.setState(state);\n      }\n\n      return shapeStore;\n    });\n  }\n\n  setStable(shape: Shape): void {\n    this.setState(shape.id, ShapeStateEnum.STABLE);\n  }\n\n  update(): void {\n    this.shapeHandler$.next((shapeStore: Shape[]) => shapeStore);\n  }\n\n  setDragging(shape: Shape): void {\n    this.setState(shape.id, ShapeStateEnum.DRAGGING);\n  }\n\n  filterBy(fn: Function): OperatorFunction<Shape[], Shape[]> {\n    return (source$: Observable<Shape[]>): Observable<Shape[]> => {\n      return source$.pipe(\n        map((shapes: Shape[]) => shapes.filter((shape: Shape) => fn(shape)))\n      );\n    };\n  }\n\n  public get hoveredShape(): Shape {\n    return this.hoveredShape$.value;\n  }\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport {\n  ToolTypeEnum,\n  SVGShapeEnum\n} from '@tools/enums';\nimport { IToolList, IToolListItem } from '@tools/interfaces';\nimport { Shape } from '@shapes/shape';\nimport { SHAPE_DEFAULT_STROKE } from '@tools/tool-options';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GuiService {\n  private toolHandler$: BehaviorSubject<IToolListItem> = new BehaviorSubject<IToolListItem>(null);\n  private cursorHandler$: BehaviorSubject<string> = new BehaviorSubject<string>('');\n  private strokeWidthHandler$: BehaviorSubject<number> = new BehaviorSubject<number>(0);\n  private strokeHandler$: BehaviorSubject<string> = new BehaviorSubject<string>(SHAPE_DEFAULT_STROKE);\n  tool$: Observable<IToolListItem>;\n  cursor$: Observable<string>;\n  strokeWidth$: Observable<number>;\n  stroke$: Observable<string>;\n\n  constructor() {\n    this.cursor$ = this.cursorHandler$.asObservable();\n    this.strokeWidth$ = this.strokeWidthHandler$.asObservable();\n    this.tool$ = this.toolHandler$.asObservable();\n    this.stroke$ = this.strokeHandler$.asObservable();\n  }\n\n  public setCursor(cursor: string): void {\n    this.cursorHandler$.next(cursor);\n  }\n\n  public setStrokeWidth(strokeWidth: number): void {\n    this.strokeWidthHandler$.next(strokeWidth);\n  }\n\n  public setStroke(color: string): void {\n    this.strokeHandler$.next(color);\n  }\n\n  public setTool(tool: IToolListItem): void {\n    this.setCursor(tool.type);\n    this.setStrokeWidth(tool.strokeWidth);\n    this.toolHandler$.next(tool);\n  }\n\n  public isCurrentTool(tool: IToolListItem): boolean {\n    return this.toolHandler$.value === tool;\n  }\n\n  public isCurrentToolType(type: ToolTypeEnum): boolean {\n    return this.toolHandler$.value.type === type;\n  }\n\n  public isCurrentShape(shape: SVGShapeEnum): boolean {\n    return this.toolHandler$.value.shape === shape;\n  }\n\n  public get currentTool(): IToolListItem {\n    return this.toolHandler$.value;\n  }\n\n  public get currentStroke(): string {\n    return this.strokeHandler$.value;\n  }\n\n  public get currentStrokeWidth(): number {\n    return this.strokeWidthHandler$.value;\n  }\n}\n","import { CanvasService } from './canvas/canvas.service';\nimport { GuiService } from './gui/gui.service';\nimport { SocketService } from './socket/socket.service';\n\nexport {\n  CanvasService,\n  GuiService,\n  SocketService\n};\n","import { Injectable } from '@angular/core';\nimport { GuiService } from '@services/gui/gui.service';\nimport { Point2D } from '@math';\nimport { Shape } from '@shapes/shape';\nimport { PolylineShape } from '@shapes/polyline/polyline-shape';\nimport { RectShape } from '@shapes/rect/rect-shape';\nimport { CircleShape } from '@shapes/circle/circle-shape';\nimport { SVGShapeEnum } from '@tools/enums';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShapeService {\n\n  constructor(private guiService: GuiService) {\n  }\n\n  createPolyline = (pStart: Point2D): PolylineShape => {\n    const { currentStrokeWidth, currentStroke }: GuiService = this.guiService;\n\n    return new PolylineShape([pStart], currentStrokeWidth, currentStroke);\n  }\n\n  createCircle = (center: Point2D, fill: boolean = false): Shape => {\n    const { currentStrokeWidth, currentStroke }: GuiService = this.guiService;\n\n    const fillShape = fill ? currentStroke : 'none';\n\n    return new CircleShape(center, currentStroke, currentStrokeWidth, fillShape);\n  }\n\n  createRect = (edge: Point2D): Shape => {\n    const { currentStrokeWidth, currentStroke }: GuiService = this.guiService;\n\n    return new RectShape(edge, currentStroke, currentStrokeWidth);\n  }\n\n  composeShape(rawShape: Shape): Shape {\n    switch (rawShape.type) {\n      case SVGShapeEnum.Polyline:\n        return PolylineShape.composeShape(<PolylineShape>rawShape);\n      case SVGShapeEnum.Circle:\n        return CircleShape.composeShape(<CircleShape>rawShape);\n      case SVGShapeEnum.Rect:\n        return RectShape.composeShape(<RectShape>rawShape);\n      default:\n        return;\n    }\n  }\n}\n","import * as io from 'socket.io-client';\nimport { Injectable } from '@angular/core';\nimport { environment } from '@env/environment';\nimport { Observable, merge, fromEvent, of, ReplaySubject } from 'rxjs';\nimport { mapTo, switchMap, map, mergeMap, takeUntil, withLatestFrom } from 'rxjs/operators';\nimport { UserService } from '@services/user/user.service';\nimport { Socket } from 'socket.io';\nimport { Subject } from 'rxjs/Subject';\nimport { Shape } from '../../modules/tools/shapes/shape';\nimport { CanvasService } from '@services/canvas/canvas.service';\nimport { ShapeService } from '../shape/shape.service';\nimport { User } from '@interfaces/user.interface';\nimport { UserStates } from '@enums/user-states.enum';\nimport { SocketEventEnum } from '@enums/socket-event.enum';\n\ninterface SocketIOData<T> {\n  socket: SocketIO.Socket;\n  data: T;\n}\n\ninterface SocketIOMessage<T> {\n  id: string;\n  message: T;\n}\n\nexport enum SocketStateEnum {\n  CONNECTED = 'connected',\n  DISCONNECTED = 'disconnected'\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n  private socket$;\n  private connection$: ReplaySubject<SocketIO.Socket> = new ReplaySubject(1);\n  private disconnect$;\n  private connectionState$;\n  constructor(\n    private userService: UserService,\n    private canvasService: CanvasService,\n    private shapeService: ShapeService\n  ) {}\n\n  public connect(): void {\n    this.socket$ = of(io.connect(environment.wsUrl));\n\n    this.socket$.pipe(\n      switchMap((socket: Socket) =>\n        fromEvent(socket, SocketEventEnum.CONNECT)\n          .pipe(map(() => socket))\n      )\n    ).subscribe(this.connection$);\n\n    this.disconnect$ = this.socket$.pipe(\n      switchMap((socket: Socket) =>\n        fromEvent(socket, SocketEventEnum.DISCONNECT)\n      )\n    );\n\n    this.connectionState$ = merge(\n      this.connection$.pipe(mapTo(SocketStateEnum.CONNECTED)),\n      this.disconnect$.pipe(mapTo(SocketStateEnum.DISCONNECTED))\n    );\n\n    this.listen(SocketEventEnum.ALL_USERS).pipe(withLatestFrom(this.socket$)).subscribe(this.handleAllUsers);\n    this.listen(SocketEventEnum.USER_LEFT).subscribe(this.handleUserLeft);\n    this.listen(SocketEventEnum.USER_JOIN).subscribe(this.handleUserJoin);\n    this.listen(SocketEventEnum.CHANGE_STATE).subscribe(this.handleStateChange);\n    this.listen(SocketEventEnum.SHAPE_ADD).subscribe(this.handleShapeAdd);\n    this.listen(SocketEventEnum.SHAPE_CHANGE).subscribe(this.handleShapeChange);\n\n    this.send(this.userService.username$, SocketEventEnum.SAVE_USERNAME);\n  }\n\n  private listen<T>(event: string): Observable<T> {\n    return this.connection$\n      .pipe(\n        mergeMap((socket: Socket) => fromEvent(socket, event)),\n        takeUntil(this.disconnect$)\n    );\n  }\n\n  public send = <T>(data$: Observable<T>, event: string): void => {\n    this.connection$\n      .pipe(\n        switchMap((socket: SocketIO.Socket) => {\n          return data$.pipe(\n            map(((data: T): SocketIOData<T> => ({socket, data}))),\n            takeUntil(this.disconnect$)\n          );\n        })\n      )\n      .subscribe(({socket, data}: SocketIOData<T>) => {\n        socket.emit(event, data);\n      });\n  }\n\n  private handleAllUsers = ([users, socket]: [User[], SocketIO.Socket]): void => {\n    this.identifying(socket, users);\n    this.userService.clear();\n    this.userService.add(...users);\n  }\n\n  private handleUserLeft = (user: User): void => {\n    this.userService.remove(user.id);\n  }\n\n  private handleUserJoin = (user: User): void => {\n    this.userService.add(user);\n  }\n\n  private handleShapeAdd = ({id, message: shape}: SocketIOMessage<Shape>): void => {\n    const composedShape = this.shapeService.composeShape(shape);\n    this.canvasService.add(composedShape);\n  }\n\n  private handleShapeChange = ({id, message: shape}: SocketIOMessage<Shape>): void => {\n    const composedShape = this.shapeService.composeShape(shape);\n    this.canvasService.replace(composedShape);\n  }\n\n  private handleStateChange = ({id, message}: SocketIOMessage<UserStates>): void => {\n    this.userService.changeState(id, message);\n  }\n\n  public getConnectionState(): Observable<boolean> {\n    return this.connectionState$;\n  }\n\n  public identifying(socket: SocketIO.Socket, users: User[]): void {\n    users.forEach((user: User) => {\n      user.me = user.id === socket.id;\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { User } from '@interfaces/user.interface';\nimport { UserStates } from '@enums/user-states.enum';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport { scan } from 'rxjs/operators';\nimport { ReplaySubject, BehaviorSubject } from 'rxjs';\nimport { name } from 'faker';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n  users$: Observable<User[]>;\n  username$: BehaviorSubject<string> = new BehaviorSubject(name.findName());\n  private usersHandler$: ReplaySubject<Function> = new ReplaySubject<Function>(1);\n\n  constructor() {\n    this.users$ = this.usersHandler$\n      .pipe(\n        scan((users: User[], fn: Function) => fn(users), [])\n      );\n  }\n\n  add = (...newbies: User[]): void => {\n    this.usersHandler$.next((users: User[]) => users.concat(newbies));\n  }\n\n  remove = (id: string): void => {\n    this.usersHandler$.next((users: User[]) => users.filter((u: User) => u.id !== id));\n  }\n\n  clear = (): void => {\n    this.usersHandler$.next((users: User[]) => []);\n  }\n\n  changeState = (id: string, state: UserStates): void => {\n    this.usersHandler$.next((users: User[]) => {\n      const foundUser = users.find((user: User) => user.id === id);\n      foundUser.state = state;\n\n      return users;\n    });\n  }\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  wsUrl: 'https://ng-paint-server.herokuapp.com'\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}